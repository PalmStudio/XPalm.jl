<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · XPalm.jl</title><meta name="title" content="Home · XPalm.jl"/><meta property="og:title" content="Home · XPalm.jl"/><meta property="twitter:title" content="Home · XPalm.jl"/><meta name="description" content="Documentation for XPalm.jl."/><meta property="og:description" content="Documentation for XPalm.jl."/><meta property="twitter:description" content="Documentation for XPalm.jl."/><meta property="og:url" content="https://PalmStudio.github.io/XPalm.jl/"/><meta property="twitter:url" content="https://PalmStudio.github.io/XPalm.jl/"/><link rel="canonical" href="https://PalmStudio.github.io/XPalm.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.jpg" alt="XPalm.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>XPalm.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Example-outputs"><span>Example outputs</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Quick-Start"><span>Quick Start</span></a></li><li><a class="tocitem" href="#VPalm"><span>VPalm</span></a></li><li><a class="tocitem" href="#Funding"><span>Funding</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PalmStudio/XPalm.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PalmStudio/XPalm.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="XPalm-A-growth-and-yield-model-for-oil-palm"><a class="docs-heading-anchor" href="#XPalm-A-growth-and-yield-model-for-oil-palm">XPalm - A growth and yield model for oil palm</a><a id="XPalm-A-growth-and-yield-model-for-oil-palm-1"></a><a class="docs-heading-anchor-permalink" href="#XPalm-A-growth-and-yield-model-for-oil-palm" title="Permalink"></a></h1><!-- [![Stable](https://img.shields.io/badge/docs-stable-blue.svg)](https://PalmStudio.github.io/XPalm.jl/stable/) --><p><a href="https://PalmStudio.github.io/XPalm.jl/dev/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/PalmStudio/XPalm.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/PalmStudio/XPalm.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a> <a href="https://codecov.io/gh/PalmStudio/XPalm.jl"><img src="https://codecov.io/gh/PalmStudio/XPalm.jl/branch/main/graph/badge.svg" alt="Coverage"/></a> <a href="https://github.com/SciML/ColPrac"><img src="https://img.shields.io/badge/ColPrac-Contributor&#39;s%20Guide-blueviolet" alt="ColPrac: Contributor&#39;s Guide on Collaborative Practices for Community Packages"/></a></p><p><a href="https://github.com/PalmStudio/XPalm.jl">XPalm</a> is a growth and yield model for oil palm (<em>Elaeis guineensis</em>).</p><ul><li><a href="#XPalm-A-growth-and-yield-model-for-oil-palm">XPalm - A growth and yield model for oil palm</a></li><li class="no-marker"><ul><li><a href="#Overview">Overview</a></li><li><a href="#Example-outputs">Example outputs</a></li><li><a href="#Installation">Installation</a></li><li><a href="#Quick-Start">Quick Start</a></li><li class="no-marker"><ul><li><a href="#The-easiest-way-of-running-the-model">The easiest way of running the model</a></li><li><a href="#Programmatically-running-the-model">Programmatically running the model</a></li><li class="no-marker"><ul><li><a href="#Basic-simulation">Basic simulation</a></li><li><a href="#Advanced-Usage">Advanced Usage</a></li><li><a href="#Importing-the-models">Importing the models</a></li><li><a href="#More-examples">More examples</a></li></ul></li></ul></li><li><a href="#VPalm">VPalm</a></li><li><a href="#Funding">Funding</a></li><li><a href="#API">API</a></li><li class="no-marker"><ul><li><a href="#Index">Index</a></li><li><a href="#XPalm">XPalm</a></li><li><a href="#Models">Models</a></li><li><a href="#VPalm-2">VPalm</a></li></ul></li></ul></li></ul><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>XPalm is a process-based model for simulating oil palm (<em>Elaeis guineensis</em>) growth and development. The model simulates key physiological processes including:</p><ul><li>Phenology and development</li><li>Carbon assimilation and allocation</li><li>Water balance</li><li>Reproductive organ development</li><li>Yield components</li></ul><p>XPalm implements a multiscale approach, modeling processes at different organizational levels:</p><p>Scene: Environment and canopy-level processes Plant: Whole palm processes Phytomer: Individual growth unit processes Organ: Leaf, internode and reproductive organ processes</p><p>The model uses a daily time step and requires standard meteorological inputs (temperature, radiation, rainfall...).</p><p>The model also includes a submodule <code>VPalm</code> to design palm tree mockups from a set of architectural parameters and allometric equations. It is designed to integrate smoothly with the physiological models from the package.</p><p>The model is implemented in the <a href="https://julialang.org/">Julia programming language</a>, which is a high-level, high-performance dynamic programming language for technical computing.</p><h2 id="Example-outputs"><a class="docs-heading-anchor" href="#Example-outputs">Example outputs</a><a id="Example-outputs-1"></a><a class="docs-heading-anchor-permalink" href="#Example-outputs" title="Permalink"></a></h2><p>Here are some example outputs from the model, showing the evolution of variables at different scales:</p><p><strong>Scene level:</strong></p><p>Leaf area index (LAI) at the scene level over time:</p><p><img src="assets/simulation_results_Scene.png" alt="scene level"/></p><p><strong>Plant level:</strong></p><p>Maintenance respiration (Rm), absorbed PPFD (aPPFD), biomass of bunches harvested, and leaf area at the plant level over time:</p><p><img src="assets/simulation_results_Plant.png" alt="plant level"/></p><p><strong>Leaf level:</strong></p><p>Leaf area at the level of the individual leaf over time:</p><p><img src="assets/simulation_results_Leaf.png" alt="leaf level"/></p><p><strong>Soil level:</strong></p><p>Fraction of transpirable soil water (FTSW) over time:</p><p><img src="assets/simulation_results_Soil.png" alt="soil level"/></p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>Install XPalm using Julia&#39;s package manager, typing <code>]</code> in the Julia REPL (<em>i.e.</em> the console) to enter the Pkg REPL mode and then typing:</p><pre><code class="language-julia hljs">pkg&gt; add XPalm</code></pre><p>To use the package, type the following in the Julia REPL:</p><pre><code class="language-julia hljs">using XPalm</code></pre><h2 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h2><p>From the Julia REPL, load the package:</p><pre><code class="language-julia hljs">using XPalm</code></pre><h3 id="The-easiest-way-of-running-the-model"><a class="docs-heading-anchor" href="#The-easiest-way-of-running-the-model">The easiest way of running the model</a><a id="The-easiest-way-of-running-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#The-easiest-way-of-running-the-model" title="Permalink"></a></h3><p>The easiest way to run the model is to use the template notebook provided by the package. To run the notebook, you need to install the Pluto package first by running <code>] add Pluto</code>. Then, you can run the notebook using the following commands in the Julia REPL:</p><pre><code class="language-julia hljs">using Pluto, XPalm
XPalm.notebook(&quot;xpalm_notebook.jl&quot;)</code></pre><p>This command will create a new Pluto notebook (named &quot;xpalm_notebook.jl&quot;) in the current directory, and open it automatically for you.</p><p>Once closed, you can re-open this notebook by running the same command again. If the file already exists, it will be opened automatically.</p><h3 id="Programmatically-running-the-model"><a class="docs-heading-anchor" href="#Programmatically-running-the-model">Programmatically running the model</a><a id="Programmatically-running-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#Programmatically-running-the-model" title="Permalink"></a></h3><h4 id="Basic-simulation"><a class="docs-heading-anchor" href="#Basic-simulation">Basic simulation</a><a id="Basic-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-simulation" title="Permalink"></a></h4><p>Run a simple simulation using default parameters and meteorological data:</p><pre><code class="language-julia hljs">using XPalm, CSV, DataFrames

# Load example meteorological data
meteo = CSV.read(joinpath(dirname(dirname(pathof(XPalm))), &quot;0-data/meteo.csv&quot;), DataFrame)

# Run simulation
df = xpalm(meteo, DataFrame;
    vars = Dict(&quot;Scene&quot; =&gt; (:lai,)), # Request LAI as output
)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>You need to install the <code>CSV</code> and <code>DataFrames</code> packages to run the example above. You can install them by running <code>] add CSV DataFrames</code>.</p></div></div><h4 id="Advanced-Usage"><a class="docs-heading-anchor" href="#Advanced-Usage">Advanced Usage</a><a id="Advanced-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Usage" title="Permalink"></a></h4><p>Customize palm parameters and request multiple outputs:</p><pre><code class="language-julia hljs"># Read the parameters from a YAML file (provided in the example folder of the package). Note that parameter keys should be imported as `Symbol`s
using YAML
parameters = YAML.load_file(joinpath(dirname(dirname(pathof(XPalm))), &quot;examples/xpalm_parameters.yml&quot;); dicttype=Dict{Symbol,Any})

# Load example meteorological data
meteo = CSV.read(joinpath(dirname(dirname(pathof(XPalm))), &quot;0-data/meteo.csv&quot;), DataFrame)

# Create palm with custom parameters
p = XPalm.Palm(parameters=parameters)

# Run simulation with multiple outputs
results = xpalm(
    meteo,
    DataFrame,
    vars = Dict(
        &quot;Scene&quot; =&gt; (:lai,),
        &quot;Plant&quot; =&gt; (:leaf_area, :biomass_bunch_harvested),
        &quot;Soil&quot; =&gt; (:ftsw,)
    ),
    palm = p,
)</code></pre><p>You can also import the parameters from a JSON file using the <code>JSON</code> package:</p><pre><code class="language-julia hljs">using JSON # You first need to install the JSON package by running `] add JSON`
params = open(joinpath(dirname(dirname(pathof(XPalm))), &quot;examples/xpalm_parameters.json&quot;), &quot;r&quot;) do io
    JSON.parse(io; dicttype=Dict{Symbol,Any}, inttype=Int64)
end</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The configuration file must contain all the parameters required by the model. Template files are available from the <code>examples</code> folder.</p></div></div><h4 id="Importing-the-models"><a class="docs-heading-anchor" href="#Importing-the-models">Importing the models</a><a id="Importing-the-models-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-the-models" title="Permalink"></a></h4><p>The models are available from the <code>Models</code> submodule. To import all models, you can use the following command:</p><pre><code class="language-julia hljs">using XPalm
using XPalm.Models</code></pre><h4 id="More-examples"><a class="docs-heading-anchor" href="#More-examples">More examples</a><a id="More-examples-1"></a><a class="docs-heading-anchor-permalink" href="#More-examples" title="Permalink"></a></h4><p>The package provides an example script in the <code>examples</code> folder. To run it, you first have to place your working directory inside the folder, and then activate its environement by running <code>] activate .</code>.</p><p>You can also find example applications in the <a href="https://github.com/PalmStudio/XPalm_applications">Xpalm applications Github repository</a>.</p><h2 id="VPalm"><a class="docs-heading-anchor" href="#VPalm">VPalm</a><a id="VPalm-1"></a><a class="docs-heading-anchor-permalink" href="#VPalm" title="Permalink"></a></h2><p>The package also includes a submodule <code>VPalm</code> that is an automaton that builds 3d mockups of palm plants from architectural parameters and allometric equations. It also integrates a biomechanical model to compute the leaf bending and torsion using the biomass of each leaf.</p><p>You can run <code>VPalm</code> simply by loading the submodule. Here is an example to load <code>VPalm</code> default parameters and build a palm tree with a multiscale architecture defined using the <a href="https://github.com/VEZY/MultiScaleTreeGraph.jl">Multiscale Tree Graph format (MTG)</a>.</p><pre><code class="language-julia hljs">using XPalm
using XPalm.VPalm

# Load example parameters
file = joinpath(dirname(dirname(pathof(XPalm))), &quot;test&quot;, &quot;references&quot;, &quot;vpalm-parameter_file.yml&quot;)
parameters = read_parameters(file)

mtg = build_mockup(parameters)

viz(mtg, color = :green)</code></pre><p><img src="assets/palm_mockup.png" alt="palm plant"/></p><details class="admonition is-details"><summary class="admonition-header">Code to reproduce this image</summary><div class="admonition-body"><p>To reproduce the image above, you can use the following code snippet. It will create a mockup of a palm plant with colored segments based on their type.</p><pre><code class="language-julia hljs">using XPalm
using XPalm.VPalm
file = joinpath(dirname(dirname(pathof(XPalm))), &quot;test&quot;, &quot;references&quot;, &quot;vpalm-parameter_file.yml&quot;)
parameters = read_parameters(file)
mtg = build_mockup(parameters; merge_scale=:leaflet)
traverse!(mtg) do node
    if symbol(node) == &quot;Petiole&quot;
        petiole_and_rachis_segments = descendants(node, symbol=[&quot;PetioleSegment&quot;, &quot;RachisSegment&quot;])
        colormap = cgrad([colorant&quot;peachpuff4&quot;, colorant&quot;blanchedalmond&quot;], length(petiole_and_rachis_segments), scale=:log2)
        for (i, seg) in enumerate(petiole_and_rachis_segments)
            seg[:color_type] = colormap[i]
        end
    elseif symbol(node) == &quot;Leaflet&quot;
        node[:color_type] = :mediumseagreen
    elseif symbol(node) == &quot;Leaf&quot; # This will color the snags
        node[:color_type] = :peachpuff4
    end
end
f, ax, p = viz(mtg, color=:color_type)
save(&quot;palm_mockup.png&quot;, f, size=(800, 600), px_per_unit=3)</code></pre></div></details><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Note that the MTG is built with the following scales: <code>[&quot;Plant&quot;, &quot;Stem&quot;, &quot;Phytomer&quot;, &quot;Internode&quot;, &quot;Leaf&quot;, &quot;Petiole&quot;, &quot;PetioleSegment&quot;, &quot;Rachis&quot;, &quot;RachisSegment&quot;, &quot;Leaflet&quot;, &quot;LeafletSegment&quot;]</code>.</p></div></div><h2 id="Funding"><a class="docs-heading-anchor" href="#Funding">Funding</a><a id="Funding-1"></a><a class="docs-heading-anchor-permalink" href="#Funding" title="Permalink"></a></h2><p>This work is supported by the PalmStudio research project, funded by the <a href="https://smartri.id/">SMART Research Institute</a> and <a href="https://www.cirad.fr/en">CIRAD</a>.</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><h3 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h3><ul><li><a href="#XPalm.Models.AbortionRate"><code>XPalm.Models.AbortionRate</code></a></li><li><a href="#XPalm.Models.AbstractAbortionModel"><code>XPalm.Models.AbstractAbortionModel</code></a></li><li><a href="#XPalm.Models.AbstractBiomassModel"><code>XPalm.Models.AbstractBiomassModel</code></a></li><li><a href="#XPalm.Models.AbstractBiomass_From_AreaModel"><code>XPalm.Models.AbstractBiomass_From_AreaModel</code></a></li><li><a href="#XPalm.Models.AbstractBiomass_To_AreaModel"><code>XPalm.Models.AbstractBiomass_To_AreaModel</code></a></li><li><a href="#XPalm.Models.AbstractCarbon_AllocationModel"><code>XPalm.Models.AbstractCarbon_AllocationModel</code></a></li><li><a href="#XPalm.Models.AbstractCarbon_AssimilationModel"><code>XPalm.Models.AbstractCarbon_AssimilationModel</code></a></li><li><a href="#XPalm.Models.AbstractCarbon_DemandModel"><code>XPalm.Models.AbstractCarbon_DemandModel</code></a></li><li><a href="#XPalm.Models.AbstractCarbon_OfferModel"><code>XPalm.Models.AbstractCarbon_OfferModel</code></a></li><li><a href="#XPalm.Models.AbstractFTSWModel"><code>XPalm.Models.AbstractFTSWModel</code></a></li><li><a href="#XPalm.Models.AbstractFinal_Potential_BiomassModel"><code>XPalm.Models.AbstractFinal_Potential_BiomassModel</code></a></li><li><a href="#XPalm.Models.AbstractHarvestModel"><code>XPalm.Models.AbstractHarvestModel</code></a></li><li><a href="#XPalm.Models.AbstractInitiation_AgeModel"><code>XPalm.Models.AbstractInitiation_AgeModel</code></a></li><li><a href="#XPalm.Models.AbstractInternode_DimensionsModel"><code>XPalm.Models.AbstractInternode_DimensionsModel</code></a></li><li><a href="#XPalm.Models.AbstractInternode_Final_Potential_DimensionsModel"><code>XPalm.Models.AbstractInternode_Final_Potential_DimensionsModel</code></a></li><li><a href="#XPalm.Models.AbstractInternode_Potential_DimensionsModel"><code>XPalm.Models.AbstractInternode_Potential_DimensionsModel</code></a></li><li><a href="#XPalm.Models.AbstractLai_DynamicModel"><code>XPalm.Models.AbstractLai_DynamicModel</code></a></li><li><a href="#XPalm.Models.AbstractLeaf_AreaModel"><code>XPalm.Models.AbstractLeaf_AreaModel</code></a></li><li><a href="#XPalm.Models.AbstractLeaf_Final_Potential_AreaModel"><code>XPalm.Models.AbstractLeaf_Final_Potential_AreaModel</code></a></li><li><a href="#XPalm.Models.AbstractLeaf_Potential_AreaModel"><code>XPalm.Models.AbstractLeaf_Potential_AreaModel</code></a></li><li><a href="#XPalm.Models.AbstractLeaf_PruningModel"><code>XPalm.Models.AbstractLeaf_PruningModel</code></a></li><li><a href="#XPalm.Models.AbstractLeaf_RankModel"><code>XPalm.Models.AbstractLeaf_RankModel</code></a></li><li><a href="#XPalm.Models.AbstractLight_InterceptionModel"><code>XPalm.Models.AbstractLight_InterceptionModel</code></a></li><li><a href="#XPalm.Models.AbstractMaintenance_RespirationModel"><code>XPalm.Models.AbstractMaintenance_RespirationModel</code></a></li><li><a href="#XPalm.Models.AbstractNumber_FruitsModel"><code>XPalm.Models.AbstractNumber_FruitsModel</code></a></li><li><a href="#XPalm.Models.AbstractNumber_SpikeletsModel"><code>XPalm.Models.AbstractNumber_SpikeletsModel</code></a></li><li><a href="#XPalm.Models.AbstractPhyllochronModel"><code>XPalm.Models.AbstractPhyllochronModel</code></a></li><li><a href="#XPalm.Models.AbstractPhytomer_CountModel"><code>XPalm.Models.AbstractPhytomer_CountModel</code></a></li><li><a href="#XPalm.Models.AbstractPhytomer_EmissionModel"><code>XPalm.Models.AbstractPhytomer_EmissionModel</code></a></li><li><a href="#XPalm.Models.AbstractPlant_AgeModel"><code>XPalm.Models.AbstractPlant_AgeModel</code></a></li><li><a href="#XPalm.Models.AbstractPotential_EvapotranspirationModel"><code>XPalm.Models.AbstractPotential_EvapotranspirationModel</code></a></li><li><a href="#XPalm.Models.AbstractReproductive_Organ_EmissionModel"><code>XPalm.Models.AbstractReproductive_Organ_EmissionModel</code></a></li><li><a href="#XPalm.Models.AbstractReserve_FillingModel"><code>XPalm.Models.AbstractReserve_FillingModel</code></a></li><li><a href="#XPalm.Models.AbstractRoot_GrowthModel"><code>XPalm.Models.AbstractRoot_GrowthModel</code></a></li><li><a href="#XPalm.Models.AbstractSex_DeterminationModel"><code>XPalm.Models.AbstractSex_DeterminationModel</code></a></li><li><a href="#XPalm.Models.AbstractSoil_WaterModel"><code>XPalm.Models.AbstractSoil_WaterModel</code></a></li><li><a href="#XPalm.Models.AbstractStateModel"><code>XPalm.Models.AbstractStateModel</code></a></li><li><a href="#XPalm.Models.AbstractThermal_TimeModel"><code>XPalm.Models.AbstractThermal_TimeModel</code></a></li><li><a href="#XPalm.Models.Beer"><code>XPalm.Models.Beer</code></a></li><li><a href="#XPalm.Models.CarbonOfferRm"><code>XPalm.Models.CarbonOfferRm</code></a></li><li><a href="#XPalm.Models.ConstantRUEModel"><code>XPalm.Models.ConstantRUEModel</code></a></li><li><a href="#XPalm.Models.DailyDegreeDays"><code>XPalm.Models.DailyDegreeDays</code></a></li><li><a href="#XPalm.Models.DailyDegreeDaysSinceInit"><code>XPalm.Models.DailyDegreeDaysSinceInit</code></a></li><li><a href="#XPalm.Models.DailyPlantAgeModel"><code>XPalm.Models.DailyPlantAgeModel</code></a></li><li><a href="#XPalm.Models.DegreeDaysFTSW"><code>XPalm.Models.DegreeDaysFTSW</code></a></li><li><a href="#XPalm.Models.ET0_BP"><code>XPalm.Models.ET0_BP</code></a></li><li><a href="#XPalm.Models.FTSW"><code>XPalm.Models.FTSW</code></a></li><li><a href="#XPalm.Models.FTSW_BP"><code>XPalm.Models.FTSW_BP</code></a></li><li><a href="#XPalm.Models.FemaleBiomass"><code>XPalm.Models.FemaleBiomass</code></a></li><li><a href="#XPalm.Models.FemaleCarbonDemandModel"><code>XPalm.Models.FemaleCarbonDemandModel</code></a></li><li><a href="#XPalm.Models.FemaleFinalPotentialFruits"><code>XPalm.Models.FemaleFinalPotentialFruits</code></a></li><li><a href="#XPalm.Models.GraphNodeCount"><code>XPalm.Models.GraphNodeCount</code></a></li><li><a href="#XPalm.Models.InternodeBiomass"><code>XPalm.Models.InternodeBiomass</code></a></li><li><a href="#XPalm.Models.InternodeCarbonDemandModel"><code>XPalm.Models.InternodeCarbonDemandModel</code></a></li><li><a href="#XPalm.Models.LAIModel"><code>XPalm.Models.LAIModel</code></a></li><li><a href="#XPalm.Models.LeafAreaModel"><code>XPalm.Models.LeafAreaModel</code></a></li><li><a href="#XPalm.Models.LeafCarbonDemandModelArea"><code>XPalm.Models.LeafCarbonDemandModelArea</code></a></li><li><a href="#XPalm.Models.LeafStateModel"><code>XPalm.Models.LeafStateModel</code></a></li><li><a href="#XPalm.Models.MaleBiomass"><code>XPalm.Models.MaleBiomass</code></a></li><li><a href="#XPalm.Models.MaleFinalPotentialBiomass"><code>XPalm.Models.MaleFinalPotentialBiomass</code></a></li><li><a href="#XPalm.Models.NumberFruits"><code>XPalm.Models.NumberFruits</code></a></li><li><a href="#XPalm.Models.NumberSpikelets"><code>XPalm.Models.NumberSpikelets</code></a></li><li><a href="#XPalm.Models.OrgansCarbonAllocationModel"><code>XPalm.Models.OrgansCarbonAllocationModel</code></a></li><li><a href="#XPalm.Models.PhyllochronModel"><code>XPalm.Models.PhyllochronModel</code></a></li><li><a href="#XPalm.Models.PhytomerEmission"><code>XPalm.Models.PhytomerEmission</code></a></li><li><a href="#XPalm.Models.PlantLeafAreaModel"><code>XPalm.Models.PlantLeafAreaModel</code></a></li><li><a href="#XPalm.Models.PlantRm"><code>XPalm.Models.PlantRm</code></a></li><li><a href="#XPalm.Models.PotentialAreaModel"><code>XPalm.Models.PotentialAreaModel</code></a></li><li><a href="#XPalm.Models.RUE_FTSW"><code>XPalm.Models.RUE_FTSW</code></a></li><li><a href="#XPalm.Models.RankLeafPruning"><code>XPalm.Models.RankLeafPruning</code></a></li><li><a href="#XPalm.Models.ReproductiveOrganEmission"><code>XPalm.Models.ReproductiveOrganEmission</code></a></li><li><a href="#XPalm.Models.RmQ10FixedN"><code>XPalm.Models.RmQ10FixedN</code></a></li><li><a href="#XPalm.Models.RootGrowthFTSW"><code>XPalm.Models.RootGrowthFTSW</code></a></li><li><a href="#XPalm.Models.SceneToPlantLightPartitioning"><code>XPalm.Models.SceneToPlantLightPartitioning</code></a></li><li><a href="#XPalm.Models.SexDetermination"><code>XPalm.Models.SexDetermination</code></a></li><li><a href="#XPalm.Palm-Tuple{}"><code>XPalm.Palm</code></a></li><li><a href="#XPalm.Palm"><code>XPalm.Palm</code></a></li><li><a href="#PlantSimEngine.run!"><code>PlantSimEngine.run!</code></a></li><li><a href="#PlantSimEngine.run!"><code>PlantSimEngine.run!</code></a></li><li><a href="#PlantSimEngine.run!-Tuple{XPalm.Models.ReproductiveOrganEmission, Vararg{Any, 5}}"><code>PlantSimEngine.run!</code></a></li><li><a href="#PlantSimEngine.run!-Tuple{XPalm.Models.PhytomerEmission, Vararg{Any, 5}}"><code>PlantSimEngine.run!</code></a></li><li><a href="#XPalm.Models.KS-Tuple{Any, Any}"><code>XPalm.Models.KS</code></a></li><li><a href="#XPalm.Models.KS_bp-Tuple{Any, Any}"><code>XPalm.Models.KS_bp</code></a></li><li><a href="#XPalm.Models.compute_compartment_size-Tuple{Any, Any}"><code>XPalm.Models.compute_compartment_size</code></a></li><li><a href="#XPalm.Models.compute_compartment_size-Tuple{XPalm.Models.FTSW_BP, Any}"><code>XPalm.Models.compute_compartment_size</code></a></li><li><a href="#XPalm.VPalm.add_geometry!-NTuple{4, Any}"><code>XPalm.VPalm.add_geometry!</code></a></li><li><a href="#XPalm.VPalm.add_leaflet_geometry!-NTuple{8, Any}"><code>XPalm.VPalm.add_leaflet_geometry!</code></a></li><li><a href="#XPalm.VPalm.add_section_geometry!"><code>XPalm.VPalm.add_section_geometry!</code></a></li><li><a href="#XPalm.VPalm.bend-NTuple{16, Any}"><code>XPalm.VPalm.bend</code></a></li><li><a href="#XPalm.VPalm.beta_distribution_norm-Tuple{Any, Any, Any}"><code>XPalm.VPalm.beta_distribution_norm</code></a></li><li><a href="#XPalm.VPalm.beta_distribution_norm_integral-Tuple{Any, Any}"><code>XPalm.VPalm.beta_distribution_norm_integral</code></a></li><li><a href="#XPalm.VPalm.biomechanical_properties_rachis-NTuple{21, Any}"><code>XPalm.VPalm.biomechanical_properties_rachis</code></a></li><li><a href="#XPalm.VPalm.build_mockup-Tuple{Any}"><code>XPalm.VPalm.build_mockup</code></a></li><li><a href="#XPalm.VPalm.c_point_angle-NTuple{4, Any}"><code>XPalm.VPalm.c_point_angle</code></a></li><li><a href="#XPalm.VPalm.calculate_segment"><code>XPalm.VPalm.calculate_segment</code></a></li><li><a href="#XPalm.VPalm.calculate_segment_angles-NTuple{5, Any}"><code>XPalm.VPalm.calculate_segment_angles</code></a></li><li><a href="#XPalm.VPalm.compute_leaf_rank"><code>XPalm.VPalm.compute_leaf_rank</code></a></li><li><a href="#XPalm.VPalm.compute_leaflet_type_frequencies-Tuple{Any, Any}"><code>XPalm.VPalm.compute_leaflet_type_frequencies</code></a></li><li><a href="#XPalm.VPalm.compute_number_of_leaflets-NTuple{6, Any}"><code>XPalm.VPalm.compute_number_of_leaflets</code></a></li><li><a href="#XPalm.VPalm.compute_properties_internode!-NTuple{8, Any}"><code>XPalm.VPalm.compute_properties_internode!</code></a></li><li><a href="#XPalm.VPalm.compute_properties_leaf!-NTuple{6, Any}"><code>XPalm.VPalm.compute_properties_leaf!</code></a></li><li><a href="#XPalm.VPalm.compute_properties_petiole!-NTuple{12, Any}"><code>XPalm.VPalm.compute_properties_petiole!</code></a></li><li><a href="#XPalm.VPalm.compute_properties_petiole_section!-NTuple{5, Any}"><code>XPalm.VPalm.compute_properties_petiole_section!</code></a></li><li><a href="#XPalm.VPalm.compute_properties_stem!-Tuple{Any, Any, Any}"><code>XPalm.VPalm.compute_properties_stem!</code></a></li><li><a href="#XPalm.VPalm.create_leaflet_segments!-NTuple{9, Any}"><code>XPalm.VPalm.create_leaflet_segments!</code></a></li><li><a href="#XPalm.VPalm.create_leaflets_for_side!-NTuple{12, Any}"><code>XPalm.VPalm.create_leaflets_for_side!</code></a></li><li><a href="#XPalm.VPalm.create_section-Tuple{Any, Any}"><code>XPalm.VPalm.create_section</code></a></li><li><a href="#XPalm.VPalm.create_single_leaflet-NTuple{11, Any}"><code>XPalm.VPalm.create_single_leaflet</code></a></li><li><a href="#XPalm.VPalm.cylinder-Tuple{}"><code>XPalm.VPalm.cylinder</code></a></li><li><a href="#XPalm.VPalm.dist_and_angles_to_xyz-Tuple{Any, Any, Any}"><code>XPalm.VPalm.dist_and_angles_to_xyz</code></a></li><li><a href="#XPalm.VPalm.draw_group_size-Tuple{Any, Any, Any}"><code>XPalm.VPalm.draw_group_size</code></a></li><li><a href="#XPalm.VPalm.elliptical_cylinder-Tuple{Any, Any, Any}"><code>XPalm.VPalm.elliptical_cylinder</code></a></li><li><a href="#XPalm.VPalm.exponetial-Tuple{Any, Any, Any}"><code>XPalm.VPalm.exponetial</code></a></li><li><a href="#XPalm.VPalm.final_angle-NTuple{4, Any}"><code>XPalm.VPalm.final_angle</code></a></li><li><a href="#XPalm.VPalm.group_leaflets-Tuple{Any, Any, Any}"><code>XPalm.VPalm.group_leaflets</code></a></li><li><a href="#XPalm.VPalm.height_to_width_ratio-NTuple{5, Any}"><code>XPalm.VPalm.height_to_width_ratio</code></a></li><li><a href="#XPalm.VPalm.inertia_flex_rota"><code>XPalm.VPalm.inertia_flex_rota</code></a></li><li><a href="#XPalm.VPalm.internode_diameter-NTuple{5, Any}"><code>XPalm.VPalm.internode_diameter</code></a></li><li><a href="#XPalm.VPalm.internode_length-NTuple{6, Any}"><code>XPalm.VPalm.internode_length</code></a></li><li><a href="#XPalm.VPalm.interp_points-Union{Tuple{P}, Tuple{AbstractVector{P}, Any}} where P&lt;:Meshes.Point"><code>XPalm.VPalm.interp_points</code></a></li><li><a href="#XPalm.VPalm.leaf_insertion_angle"><code>XPalm.VPalm.leaf_insertion_angle</code></a></li><li><a href="#XPalm.VPalm.leaflet_azimuthal_angle-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_azimuthal_angle</code></a></li><li><a href="#XPalm.VPalm.leaflet_length_at_bpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.leaflet_length_at_bpoint</code></a></li><li><a href="#XPalm.VPalm.leaflet_length_max-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_length_max</code></a></li><li><a href="#XPalm.VPalm.leaflet_width_at_bpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.leaflet_width_at_bpoint</code></a></li><li><a href="#XPalm.VPalm.leaflet_width_max-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_width_max</code></a></li><li><a href="#XPalm.VPalm.leaflet_zenithal_angle-NTuple{12, Any}"><code>XPalm.VPalm.leaflet_zenithal_angle</code></a></li><li><a href="#XPalm.VPalm.leaflet_zenithal_angle_boundaries"><code>XPalm.VPalm.leaflet_zenithal_angle_boundaries</code></a></li><li><a href="#XPalm.VPalm.leaflets!-NTuple{6, Any}"><code>XPalm.VPalm.leaflets!</code></a></li><li><a href="#XPalm.VPalm.linear-Tuple{Any, Any, Any}"><code>XPalm.VPalm.linear</code></a></li><li><a href="#XPalm.VPalm.local_flexion-NTuple{5, Any}"><code>XPalm.VPalm.local_flexion</code></a></li><li><a href="#XPalm.VPalm.logistic-NTuple{4, Any}"><code>XPalm.VPalm.logistic</code></a></li><li><a href="#XPalm.VPalm.mean_and_sd-Tuple{Any, Any}"><code>XPalm.VPalm.mean_and_sd</code></a></li><li><a href="#XPalm.VPalm.mtg_skeleton-Tuple{Any}"><code>XPalm.VPalm.mtg_skeleton</code></a></li><li><a href="#XPalm.VPalm.normal_deviation_draw"><code>XPalm.VPalm.normal_deviation_draw</code></a></li><li><a href="#XPalm.VPalm.normal_deviation_percent_draw-Tuple{Any, Any, Any}"><code>XPalm.VPalm.normal_deviation_percent_draw</code></a></li><li><a href="#XPalm.VPalm.normalize_positions!-Tuple{Any, Any}"><code>XPalm.VPalm.normalize_positions!</code></a></li><li><a href="#XPalm.VPalm.petiole-NTuple{7, Any}"><code>XPalm.VPalm.petiole</code></a></li><li><a href="#XPalm.VPalm.petiole_azimuthal_angle-Tuple{}"><code>XPalm.VPalm.petiole_azimuthal_angle</code></a></li><li><a href="#XPalm.VPalm.petiole_dimensions_at_cpoint"><code>XPalm.VPalm.petiole_dimensions_at_cpoint</code></a></li><li><a href="#XPalm.VPalm.petiole_height-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_height</code></a></li><li><a href="#XPalm.VPalm.petiole_length"><code>XPalm.VPalm.petiole_length</code></a></li><li><a href="#XPalm.VPalm.petiole_sections!-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_sections!</code></a></li><li><a href="#XPalm.VPalm.petiole_width-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_width</code></a></li><li><a href="#XPalm.VPalm.phyllotactic_angle-Tuple{Any, Any}"><code>XPalm.VPalm.phyllotactic_angle</code></a></li><li><a href="#XPalm.VPalm.piecewise_linear_area-Tuple{Any, Any}"><code>XPalm.VPalm.piecewise_linear_area</code></a></li><li><a href="#XPalm.VPalm.plane-Tuple{}"><code>XPalm.VPalm.plane</code></a></li><li><a href="#XPalm.VPalm.properties_petiole_section-NTuple{9, Any}"><code>XPalm.VPalm.properties_petiole_section</code></a></li><li><a href="#XPalm.VPalm.rachis-NTuple{10, Any}"><code>XPalm.VPalm.rachis</code></a></li><li><a href="#XPalm.VPalm.rachis_expansion-Tuple{Any, Any}"><code>XPalm.VPalm.rachis_expansion</code></a></li><li><a href="#XPalm.VPalm.rachis_height-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_height</code></a></li><li><a href="#XPalm.VPalm.rachis_length_from_biomass-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_length_from_biomass</code></a></li><li><a href="#XPalm.VPalm.rachis_width-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_width</code></a></li><li><a href="#XPalm.VPalm.read_parameters-Tuple{Any}"><code>XPalm.VPalm.read_parameters</code></a></li><li><a href="#XPalm.VPalm.read_ply-Tuple{Any}"><code>XPalm.VPalm.read_ply</code></a></li><li><a href="#XPalm.VPalm.relative_leaflet_length-NTuple{4, Any}"><code>XPalm.VPalm.relative_leaflet_length</code></a></li><li><a href="#XPalm.VPalm.relative_leaflet_position-Tuple{Any, Any}"><code>XPalm.VPalm.relative_leaflet_position</code></a></li><li><a href="#XPalm.VPalm.relative_leaflet_width-NTuple{4, Any}"><code>XPalm.VPalm.relative_leaflet_width</code></a></li><li><a href="#XPalm.VPalm.shrink_leaflets_in_groups!"><code>XPalm.VPalm.shrink_leaflets_in_groups!</code></a></li><li><a href="#XPalm.VPalm.snag-Tuple{}"><code>XPalm.VPalm.snag</code></a></li><li><a href="#XPalm.VPalm.stem_bending-Tuple{Any, Any}"><code>XPalm.VPalm.stem_bending</code></a></li><li><a href="#XPalm.VPalm.stem_diameter-NTuple{6, Any}"><code>XPalm.VPalm.stem_diameter</code></a></li><li><a href="#XPalm.VPalm.stem_height-NTuple{6, Any}"><code>XPalm.VPalm.stem_height</code></a></li><li><a href="#XPalm.VPalm.unbend-Tuple{Any, Any}"><code>XPalm.VPalm.unbend</code></a></li><li><a href="#XPalm.VPalm.width_at_cpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.width_at_cpoint</code></a></li><li><a href="#XPalm.VPalm.write_parameters-Tuple{Any, Any}"><code>XPalm.VPalm.write_parameters</code></a></li><li><a href="#XPalm.VPalm.xyz_to_dist_and_angles-Union{Tuple{AbstractVector{P}}, Tuple{P}} where P&lt;:Meshes.Point"><code>XPalm.VPalm.xyz_to_dist_and_angles</code></a></li><li><a href="#XPalm.age_relative_value-NTuple{5, Any}"><code>XPalm.age_relative_value</code></a></li><li><a href="#XPalm.model_mapping-Tuple{Any}"><code>XPalm.model_mapping</code></a></li><li><a href="#XPalm.notebook"><code>XPalm.notebook</code></a></li><li><a href="#XPalm.xpalm-Tuple{Any, Any}"><code>XPalm.xpalm</code></a></li><li><a href="#XPalm.VPalm.@check_unit"><code>XPalm.VPalm.@check_unit</code></a></li></ul><h3 id="XPalm"><a class="docs-heading-anchor" href="#XPalm">XPalm</a><a id="XPalm-1"></a><a class="docs-heading-anchor-permalink" href="#XPalm" title="Permalink"></a></h3><p>Documentation for the main functions of the XPalm package.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Palm" href="#XPalm.Palm"><code>XPalm.Palm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Palm(;
    nsteps=1,
    initiation_age=0,
    parameters=default_parameters(),
    model_list=model_mapping(parameters, nsteps)
)</code></pre><p>Create a new scene with one Palm plant.</p><p><strong>Arguments</strong></p><ul><li><code>nsteps</code>: number of time steps to run the simulation for (default: 1, should match the number of rows in the meteo data)</li><li><code>initiation_age</code>: date of the first phytomer initiation (default: 0)</li><li><code>parameters</code>: a dictionary of parameters (default: <code>default_parameters()</code>)</li><li><code>model_list</code>: a dictionary of models (default: <code>model_mapping(parameters, nsteps)</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/mtg/structs.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Palm-Tuple{}" href="#XPalm.Palm-Tuple{}"><code>XPalm.Palm</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Palm(; initiation_age=0, parameters=default_parameters())</code></pre><p>Create a new scene with one Palm plant. The scene contains a soil, a plant, a root system, a stem, a phytomer, an internode, and a leaf.</p><p><strong>Arguments</strong></p><ul><li><code>initiation_age</code>: days elapsed since the first phytomer initiation (default: 0)</li><li><code>parameters</code>: a dictionary of parameters (default: <code>default_parameters()</code>)</li></ul><p><strong>Returns</strong></p><ul><li>a <code>Palm</code> object</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/mtg/structs.jl#L225-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.age_relative_value-NTuple{5, Any}" href="#XPalm.age_relative_value-NTuple{5, Any}"><code>XPalm.age_relative_value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">age_relative_value(age, age_min_value, age_max_value, min_value, max_value)</code></pre><p>Value that depends on the plant age.</p><p><strong>Arguments</strong></p><ul><li><code>age</code>: the current age of the plant</li><li><code>age_min_value</code>: the age at which minimum value is reached (ages below this age will hage <code>min_value</code>)</li><li><code>age_max_value</code>: the age at which the value is at the maximum value (ages above this age will hage <code>max_value</code>)</li><li><code>min_value</code>: the value below or at <code>age_min_value</code></li><li><code>max_value</code>: the value at or above <code>age_max_value</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; XPalm.age_relative_value(0, 1, 10, 0.1, 0.8)
0.1</code></pre><pre><code class="language-julia-repl hljs">julia&gt; XPalm.age_relative_value(5, 1, 10, 0.1, 0.8)
0.4111111111111111</code></pre><pre><code class="language-julia-repl hljs">julia&gt; XPalm.age_relative_value(15, 1, 10, 0.1, 0.8)
0.8</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/age_modulation/age_modulation_linear.jl#L1-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.model_mapping-Tuple{Any}" href="#XPalm.model_mapping-Tuple{Any}"><code>XPalm.model_mapping</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">model_mapping(p)</code></pre><p>Defines the list of sub-models used in XPalm.</p><p><strong>Arguments</strong></p><ul><li><code>p</code>: A palm object with the parameters of the model (<em>e.g.</em> p = Palm()).</li></ul><p><strong>Returns</strong></p><ul><li>A multiscale list of models, as a dictionary of scale (keys) and list of models (values).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/model_definition.jl#L3-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.notebook" href="#XPalm.notebook"><code>XPalm.notebook</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">notebook(copyto::String; force::Bool)</code></pre><p>Open an XPalm notebook or create one from a template at <code>path</code>, and run the notebook.</p><p><strong>Arguments</strong></p><ul><li><code>path::String</code>: The path to the notebook file. If it exists, it will be opened (unless <code>force=true</code>), otherwise it will be created.</li><li><code>force::Bool=false</code>: If <code>true</code>, overwrite the file at <code>path</code>.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using XPalm, Pluto
XPalm.notebook()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/notebook.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.xpalm-Tuple{Any, Any}" href="#XPalm.xpalm-Tuple{Any, Any}"><code>XPalm.xpalm</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">xpalm(meteo; vars=Dict(&quot;Scene&quot; =&gt; (:lai,)), palm=Palm(initiation_age=0, parameters=default_parameters()))
xpalm(meteo, sink; vars=Dict(&quot;Scene&quot; =&gt; (:lai,)), palm=Palm(initiation_age=0, parameters=default_parameters()))</code></pre><p>Run the XPalm model with the given meteo data and return the results in a DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>meteo</code>: DataFrame with the meteo data</li><li><code>sink</code>: a <code>Tables.jl</code> compatible sink function to format the results, for exemple a <code>DataFrame</code></li><li><code>vars</code>: A dictionary with the outputs to be returned for each scale of simulation</li><li><code>palm</code>: the Palm object with the parameters of the model</li></ul><p><strong>Returns</strong></p><p>A simulation output, either as a dictionary of variables per scales (default) or as a <code>Tables.jl</code> formatted object.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using XPalm, CSV, DataFrames
meteo = CSV.read(joinpath(dirname(dirname(pathof(XPalm))), &quot;0-data/meteo.csv&quot;), DataFrame)
df = xpalm(meteo, DataFrame; vars= Dict(&quot;Scene&quot; =&gt; (:lai,)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/run.jl#L3-L27">source</a></section></article><h3 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h3><p>Documentation for the models available in XPalm.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbortionRate" href="#XPalm.Models.AbortionRate"><code>XPalm.Models.AbortionRate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbortionRate(TT_flowering, duration_abortion, abortion_rate_max=1.0, abortion_rate_ref=0.2; random_seed::Int=0)
AbortionRate(TT_flowering, duration_abortion, abortion_rate_max, abortion_rate_ref, random_generator&lt;:AbstractRNG)</code></pre><p>Determines if the inflorescence will abort based on the trophic state of the plant during a given period in thermal time.</p><p><strong>Arguments</strong></p><ul><li><code>TT_flowering</code>: thermal time for flowering since phytomer appearence (degree days).</li><li><code>duration_abortion</code>: duration used for computing abortion rate before flowering (degree days).</li></ul><p><strong>Inputs</strong></p><ul><li><code>carbon_offer_after_rm</code>: carbon offer after maintenance respiration (gC/plant).</li><li><code>carbon_demand_organs</code>: carbon demand of all organs (gC/plant).</li></ul><p><strong>Outputs</strong></p><ul><li><code>carbon_demand_plant</code>: total carbon demand of the plant (gC/plant).</li><li><code>carbon_offer_plant</code>: total carbon offer of the plant (gC/plant).</li><li><code>state</code>: phytomer state (undetermined,Aborted,...)</li></ul><p><strong>Note</strong></p><p>The abortion is determined at <code>TT_flowering</code> based on the <code>trophic_status</code> of the plant during a period of time before this date. The hypothesis is that a trophic stress can trigger more abortion in the plant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/abortion.jl#L1-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractAbortionModel" href="#XPalm.Models.AbstractAbortionModel"><code>XPalm.Models.AbstractAbortionModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>abortion</code> process abstract model. </p><p>All models implemented to simulate the <code>abortion</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyAbortionModel &lt;: AbstractAbortionModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractAbortionModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractBiomassModel" href="#XPalm.Models.AbstractBiomassModel"><code>XPalm.Models.AbstractBiomassModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>biomass</code> process abstract model. </p><p>All models implemented to simulate the <code>biomass</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyBiomassModel &lt;: AbstractBiomassModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractBiomassModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractBiomass_From_AreaModel" href="#XPalm.Models.AbstractBiomass_From_AreaModel"><code>XPalm.Models.AbstractBiomass_From_AreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>biomass_from_area</code> process abstract model. </p><p>All models implemented to simulate the <code>biomass_from_area</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyBiomass_From_AreaModel &lt;: AbstractBiomass_From_AreaModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractBiomass_From_AreaModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractBiomass_To_AreaModel" href="#XPalm.Models.AbstractBiomass_To_AreaModel"><code>XPalm.Models.AbstractBiomass_To_AreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>biomass_to_area</code> process abstract model. </p><p>All models implemented to simulate the <code>biomass_to_area</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyBiomass_To_AreaModel &lt;: AbstractBiomass_To_AreaModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractBiomass_To_AreaModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractCarbon_AllocationModel" href="#XPalm.Models.AbstractCarbon_AllocationModel"><code>XPalm.Models.AbstractCarbon_AllocationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>carbon_allocation</code> process abstract model. </p><p>All models implemented to simulate the <code>carbon_allocation</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyCarbon_AllocationModel &lt;: AbstractCarbon_AllocationModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractCarbon_AllocationModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractCarbon_AssimilationModel" href="#XPalm.Models.AbstractCarbon_AssimilationModel"><code>XPalm.Models.AbstractCarbon_AssimilationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>carbon_assimilation</code> process abstract model. </p><p>All models implemented to simulate the <code>carbon_assimilation</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyCarbon_AssimilationModel &lt;: AbstractCarbon_AssimilationModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractCarbon_AssimilationModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractCarbon_DemandModel" href="#XPalm.Models.AbstractCarbon_DemandModel"><code>XPalm.Models.AbstractCarbon_DemandModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>carbon_demand</code> process abstract model. </p><p>All models implemented to simulate the <code>carbon_demand</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyCarbon_DemandModel &lt;: AbstractCarbon_DemandModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractCarbon_DemandModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractCarbon_OfferModel" href="#XPalm.Models.AbstractCarbon_OfferModel"><code>XPalm.Models.AbstractCarbon_OfferModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>carbon_offer</code> process abstract model. </p><p>All models implemented to simulate the <code>carbon_offer</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyCarbon_OfferModel &lt;: AbstractCarbon_OfferModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractCarbon_OfferModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractFTSWModel" href="#XPalm.Models.AbstractFTSWModel"><code>XPalm.Models.AbstractFTSWModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractFTSWModel &lt;: AbstractSoil_WaterModel</code></pre><p>Defines a structure for soil water model that computes <code>ftsw</code> as an output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/0-process.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractFinal_Potential_BiomassModel" href="#XPalm.Models.AbstractFinal_Potential_BiomassModel"><code>XPalm.Models.AbstractFinal_Potential_BiomassModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>final_potential_biomass</code> process abstract model. </p><p>All models implemented to simulate the <code>final_potential_biomass</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyFinal_Potential_BiomassModel &lt;: AbstractFinal_Potential_BiomassModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractFinal_Potential_BiomassModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractHarvestModel" href="#XPalm.Models.AbstractHarvestModel"><code>XPalm.Models.AbstractHarvestModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>harvest</code> process abstract model. </p><p>All models implemented to simulate the <code>harvest</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyHarvestModel &lt;: AbstractHarvestModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractHarvestModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractInitiation_AgeModel" href="#XPalm.Models.AbstractInitiation_AgeModel"><code>XPalm.Models.AbstractInitiation_AgeModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>initiation_age</code> process abstract model. </p><p>All models implemented to simulate the <code>initiation_age</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyInitiation_AgeModel &lt;: AbstractInitiation_AgeModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractInitiation_AgeModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractInternode_DimensionsModel" href="#XPalm.Models.AbstractInternode_DimensionsModel"><code>XPalm.Models.AbstractInternode_DimensionsModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>internode_dimensions</code> process abstract model. </p><p>All models implemented to simulate the <code>internode_dimensions</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyInternode_DimensionsModel &lt;: AbstractInternode_DimensionsModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractInternode_DimensionsModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractInternode_Final_Potential_DimensionsModel" href="#XPalm.Models.AbstractInternode_Final_Potential_DimensionsModel"><code>XPalm.Models.AbstractInternode_Final_Potential_DimensionsModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>internode_final_potential_dimensions</code> process abstract model. </p><p>All models implemented to simulate the <code>internode_final_potential_dimensions</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyInternode_Final_Potential_DimensionsModel &lt;: AbstractInternode_Final_Potential_DimensionsModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractInternode_Final_Potential_DimensionsModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractInternode_Potential_DimensionsModel" href="#XPalm.Models.AbstractInternode_Potential_DimensionsModel"><code>XPalm.Models.AbstractInternode_Potential_DimensionsModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>internode_potential_dimensions</code> process abstract model. </p><p>All models implemented to simulate the <code>internode_potential_dimensions</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyInternode_Potential_DimensionsModel &lt;: AbstractInternode_Potential_DimensionsModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractInternode_Potential_DimensionsModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLai_DynamicModel" href="#XPalm.Models.AbstractLai_DynamicModel"><code>XPalm.Models.AbstractLai_DynamicModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>lai_dynamic</code> process abstract model. </p><p>All models implemented to simulate the <code>lai_dynamic</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLai_DynamicModel &lt;: AbstractLai_DynamicModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLai_DynamicModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLeaf_AreaModel" href="#XPalm.Models.AbstractLeaf_AreaModel"><code>XPalm.Models.AbstractLeaf_AreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>leaf_area</code> process abstract model. </p><p>All models implemented to simulate the <code>leaf_area</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLeaf_AreaModel &lt;: AbstractLeaf_AreaModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLeaf_AreaModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLeaf_Final_Potential_AreaModel" href="#XPalm.Models.AbstractLeaf_Final_Potential_AreaModel"><code>XPalm.Models.AbstractLeaf_Final_Potential_AreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>leaf_final_potential_area</code> process abstract model. </p><p>All models implemented to simulate the <code>leaf_final_potential_area</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLeaf_Final_Potential_AreaModel &lt;: AbstractLeaf_Final_Potential_AreaModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLeaf_Final_Potential_AreaModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLeaf_Potential_AreaModel" href="#XPalm.Models.AbstractLeaf_Potential_AreaModel"><code>XPalm.Models.AbstractLeaf_Potential_AreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>leaf_potential_area</code> process abstract model. </p><p>All models implemented to simulate the <code>leaf_potential_area</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLeaf_Potential_AreaModel &lt;: AbstractLeaf_Potential_AreaModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLeaf_Potential_AreaModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLeaf_PruningModel" href="#XPalm.Models.AbstractLeaf_PruningModel"><code>XPalm.Models.AbstractLeaf_PruningModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>leaf_pruning</code> process abstract model. </p><p>All models implemented to simulate the <code>leaf_pruning</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLeaf_PruningModel &lt;: AbstractLeaf_PruningModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLeaf_PruningModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLeaf_RankModel" href="#XPalm.Models.AbstractLeaf_RankModel"><code>XPalm.Models.AbstractLeaf_RankModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>leaf_rank</code> process abstract model. </p><p>All models implemented to simulate the <code>leaf_rank</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLeaf_RankModel &lt;: AbstractLeaf_RankModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLeaf_RankModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractLight_InterceptionModel" href="#XPalm.Models.AbstractLight_InterceptionModel"><code>XPalm.Models.AbstractLight_InterceptionModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>light_interception</code> process abstract model. </p><p>All models implemented to simulate the <code>light_interception</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyLight_InterceptionModel &lt;: AbstractLight_InterceptionModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractLight_InterceptionModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractMaintenance_RespirationModel" href="#XPalm.Models.AbstractMaintenance_RespirationModel"><code>XPalm.Models.AbstractMaintenance_RespirationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>maintenance_respiration</code> process abstract model. </p><p>All models implemented to simulate the <code>maintenance_respiration</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyMaintenance_RespirationModel &lt;: AbstractMaintenance_RespirationModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractMaintenance_RespirationModel)</code></pre><p>Generic maintenance repspiration model. </p><p>The models used are defined by the types of the <code>maintenance_respiration</code> fields of a  <code>ModelList</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">meteo = Atmosphere(T = 20.0, Wind = 1.0, P = 101.3, Rh = 0.65)

# Using Fvcb model:
leaf =
    ModelList(
        maintenance_respiration = RmQ10(),
        status = (Tₗ = 25.0, PPFD = 1000.0, Cₛ = 400.0, Dₗ = meteo.VPD)
    )

maintenance_respiration(leaf, meteo)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractNumber_FruitsModel" href="#XPalm.Models.AbstractNumber_FruitsModel"><code>XPalm.Models.AbstractNumber_FruitsModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>number_fruits</code> process abstract model. </p><p>All models implemented to simulate the <code>number_fruits</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyNumber_FruitsModel &lt;: AbstractNumber_FruitsModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractNumber_FruitsModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractNumber_SpikeletsModel" href="#XPalm.Models.AbstractNumber_SpikeletsModel"><code>XPalm.Models.AbstractNumber_SpikeletsModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>number_spikelets</code> process abstract model. </p><p>All models implemented to simulate the <code>number_spikelets</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyNumber_SpikeletsModel &lt;: AbstractNumber_SpikeletsModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractNumber_SpikeletsModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractPhyllochronModel" href="#XPalm.Models.AbstractPhyllochronModel"><code>XPalm.Models.AbstractPhyllochronModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>phyllochron</code> process abstract model. </p><p>All models implemented to simulate the <code>phyllochron</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyPhyllochronModel &lt;: AbstractPhyllochronModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractPhyllochronModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractPhytomer_CountModel" href="#XPalm.Models.AbstractPhytomer_CountModel"><code>XPalm.Models.AbstractPhytomer_CountModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>phytomer_count</code> process abstract model. </p><p>All models implemented to simulate the <code>phytomer_count</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyPhytomer_CountModel &lt;: AbstractPhytomer_CountModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractPhytomer_CountModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractPhytomer_EmissionModel" href="#XPalm.Models.AbstractPhytomer_EmissionModel"><code>XPalm.Models.AbstractPhytomer_EmissionModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>phytomer_emission</code> process abstract model. </p><p>All models implemented to simulate the <code>phytomer_emission</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyPhytomer_EmissionModel &lt;: AbstractPhytomer_EmissionModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractPhytomer_EmissionModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractPlant_AgeModel" href="#XPalm.Models.AbstractPlant_AgeModel"><code>XPalm.Models.AbstractPlant_AgeModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>plant_age</code> process abstract model. </p><p>All models implemented to simulate the <code>plant_age</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyPlant_AgeModel &lt;: AbstractPlant_AgeModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractPlant_AgeModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractPotential_EvapotranspirationModel" href="#XPalm.Models.AbstractPotential_EvapotranspirationModel"><code>XPalm.Models.AbstractPotential_EvapotranspirationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>potential_evapotranspiration</code> process abstract model. </p><p>All models implemented to simulate the <code>potential_evapotranspiration</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyPotential_EvapotranspirationModel &lt;: AbstractPotential_EvapotranspirationModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractPotential_EvapotranspirationModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractReproductive_Organ_EmissionModel" href="#XPalm.Models.AbstractReproductive_Organ_EmissionModel"><code>XPalm.Models.AbstractReproductive_Organ_EmissionModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>reproductive_organ_emission</code> process abstract model. </p><p>All models implemented to simulate the <code>reproductive_organ_emission</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyReproductive_Organ_EmissionModel &lt;: AbstractReproductive_Organ_EmissionModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractReproductive_Organ_EmissionModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractReserve_FillingModel" href="#XPalm.Models.AbstractReserve_FillingModel"><code>XPalm.Models.AbstractReserve_FillingModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>reserve_filling</code> process abstract model. </p><p>All models implemented to simulate the <code>reserve_filling</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyReserve_FillingModel &lt;: AbstractReserve_FillingModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractReserve_FillingModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractRoot_GrowthModel" href="#XPalm.Models.AbstractRoot_GrowthModel"><code>XPalm.Models.AbstractRoot_GrowthModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>root_growth</code> process abstract model. </p><p>All models implemented to simulate the <code>root_growth</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyRoot_GrowthModel &lt;: AbstractRoot_GrowthModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractRoot_GrowthModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractSex_DeterminationModel" href="#XPalm.Models.AbstractSex_DeterminationModel"><code>XPalm.Models.AbstractSex_DeterminationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>sex_determination</code> process abstract model. </p><p>All models implemented to simulate the <code>sex_determination</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MySex_DeterminationModel &lt;: AbstractSex_DeterminationModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractSex_DeterminationModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractSoil_WaterModel" href="#XPalm.Models.AbstractSoil_WaterModel"><code>XPalm.Models.AbstractSoil_WaterModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>soil_water</code> process abstract model. </p><p>All models implemented to simulate the <code>soil_water</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MySoil_WaterModel &lt;: AbstractSoil_WaterModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractSoil_WaterModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractStateModel" href="#XPalm.Models.AbstractStateModel"><code>XPalm.Models.AbstractStateModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>state</code> process abstract model. </p><p>All models implemented to simulate the <code>state</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyStateModel &lt;: AbstractStateModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractStateModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.AbstractThermal_TimeModel" href="#XPalm.Models.AbstractThermal_TimeModel"><code>XPalm.Models.AbstractThermal_TimeModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>thermal_time</code> process abstract model. </p><p>All models implemented to simulate the <code>thermal_time</code> process must be a subtype of this type, <em>e.g.</em>  <code>struct MyThermal_TimeModel &lt;: AbstractThermal_TimeModel end</code>.</p><p>You can list all models implementing this process using <code>subtypes</code>:</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">subtypes(AbstractThermal_TimeModel)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantSimEngine.jl/blob/v0.13.0/src/processes/process_generation.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.Beer" href="#XPalm.Models.Beer"><code>XPalm.Models.Beer</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Beer(k)</code></pre><p>Beer-Lambert law for light interception.</p><p><strong>Arguments</strong></p><ul><li><code>k</code>: extinction coefficient of light</li></ul><p><strong>Inputs</strong></p><ul><li><code>lai</code> in m² m⁻².</li></ul><p><strong>Required meteorology data</strong></p><ul><li><code>Ri_PAR_f</code>: incident flux of atmospheric radiation in the PAR, in MJ m⁻² d⁻¹.</li></ul><p><strong>Outputs</strong></p><ul><li><code>aPPFD</code>: absorbed Photosynthetic Photon Flux Density in mol[PAR] m[soil]⁻² d⁻¹.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/light/beer.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.CarbonOfferRm" href="#XPalm.Models.CarbonOfferRm"><code>XPalm.Models.CarbonOfferRm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CarbonOfferRm()</code></pre><p>A model that computes carbon offer as the carbon assimilation minus the  maintenance respiration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/carbon_offer/carbon_offer_rm.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.ConstantRUEModel" href="#XPalm.Models.ConstantRUEModel"><code>XPalm.Models.ConstantRUEModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ConstantRUEModel(rue)</code></pre><p>Computes the <code>carbon_assimilation</code> using a constant radiation use efficiency (<code>rue</code>).</p><p><strong>Arguments</strong></p><ul><li><code>rue</code>: radiation use efficiency (gC MJ⁻¹)</li></ul><p><strong>Inputs</strong></p><ul><li><code>aPPFD</code>: the absorbed Photosynthetic Photon Flux Density in mol[PAR] m[leaf]⁻² s⁻¹.</li></ul><p><strong>Outputs</strong></p><ul><li><code>carbon_assimilation</code>: carbon offer from photosynthesis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/carbon_assimilation/rue.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.DailyDegreeDays" href="#XPalm.Models.DailyDegreeDays"><code>XPalm.Models.DailyDegreeDays</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DailyDegreeDays(TOpt1, TOpt2, TBase, TLim)
DailyDegreeDays(TOpt1=25, TOpt2=30, TBase=15, TLim=40)</code></pre><p>Compute thermal time from daily meteo data</p><p><strong>Arguments</strong></p><ul><li><code>TOpt1</code>: starting optimal temperature for thermal time calculation (degree Celsius)</li><li><code>TOpt2</code>: ending optimal temperature for thermal time calculation (degree Celsius)</li><li><code>TBase</code>: Tbase temperature for thermal time calculation (degree Celsius)</li><li><code>TLim</code>: limit temperature for thermal time calculation (degree Celsius)</li></ul><p><strong>Outputs</strong></p><ul><li><code>TEff</code>: daily efficient temperature for plant growth (degree C days) </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/meteo/thermal_time.jl#L2-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.DailyDegreeDaysSinceInit" href="#XPalm.Models.DailyDegreeDaysSinceInit"><code>XPalm.Models.DailyDegreeDaysSinceInit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DailyDegreeDaysSinceInit()</code></pre><p>Compute thermal time since organ initiation using <code>:TEff</code>.</p><p><strong>Outputs</strong></p><ul><li><code>TT_since_init</code>: daily efficient temperature for organ growth (degree C days)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/meteo/thermal_time.jl#L98-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.DailyPlantAgeModel" href="#XPalm.Models.DailyPlantAgeModel"><code>XPalm.Models.DailyPlantAgeModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DailyPlantAgeModel(initiation_age)</code></pre><p>Plant age model, simply tracks the age of the plant in days.</p><p><strong>Arguments</strong></p><ul><li><code>initiation_age</code>: age of the plant at the start of the simulation (days)</li></ul><p><strong>Returns</strong></p><ul><li><code>age</code>: age of the plant (days)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/plant_age/palm_age_increment.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.DegreeDaysFTSW" href="#XPalm.Models.DegreeDaysFTSW"><code>XPalm.Models.DegreeDaysFTSW</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DegreeDaysFTSW(TOpt1, TOpt2, TBase, TLim, threshold_ftsw_stress)
DegreeDaysFTSW(TOpt1=25, TOpt2=30, TBase=15, TLim=40, threshold_ftsw_stress=0.3)</code></pre><p>Compute thermal time from daily meteo data, corrected by FTSW</p><p><strong>Arguments</strong></p><ul><li><code>TOpt1</code>: starting optimal temperature for thermal time calculation (degree Celsius)</li><li><code>TOpt2</code>: ending optimal temperature for thermal time calculation (degree Celsius)</li><li><code>TBase</code>: Tbase temperature for thermal time calculation (degree Celsius)</li><li><code>TLim</code>: limit temperature for thermal time calculation (degree Celsius)</li><li><code>threshold_ftsw_stress</code>: threshold value under which we apply an FTSW stress</li></ul><p><strong>Inputs</strong></p><ul><li><code>ftsw</code>: fraction of transpirable soil water (unitless)</li></ul><p><strong>Ouputs</strong></p><ul><li><code>TEff</code>: daily efficient temperature for plant growth (degree C days) </li><li><code>TT_since_init</code>: cumulated thermal time from the first day (degree C days)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/meteo/thermal_time_ftsw.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.ET0_BP" href="#XPalm.Models.ET0_BP"><code>XPalm.Models.ET0_BP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ET0_BP(LATITUDE,ALTITUDE)
ET0_BP(LATITUDE=0.97,ALTITUDE=50)</code></pre><p>Compute potential evapotranspiration </p><p><strong>Arguments</strong></p><ul><li><code>LATITUDE</code>: latitude (radian)</li><li><code>ALTITUDE</code>: altitude (m)</li></ul><p><strong>Inputs</strong></p><ul><li>meteo</li></ul><p><strong>Outputs</strong></p><ul><li><code>ET0</code>: potential evapotranpiration (mm)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/meteo/et0_BP.jl#L2-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.FTSW" href="#XPalm.Models.FTSW"><code>XPalm.Models.FTSW</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FTSW(;
    ini_root_depth,
    H_FC=0.23,
    H_WP_Z1=0.05,
    Z1=200.0,
    H_WP_Z2=0.05,
    Z2=2000.0,
    H_0=0.15,
    KC=1.0,
    TRESH_EVAP=0.5,
    TRESH_FTSW_TRANSPI=0.5,
)</code></pre><p>Fraction of Transpirable Soil Water model.</p><p>Note that there is also a method for <code>FTSW</code> that takes an organ type as type, <em>e.g.</em> <code>FTSW{Leaf}(ini_root_depth = 200.0)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>ini_root_depth</code>: root depth at initialization (mm)</li><li><code>H_FC</code>: Humidity at field capacity (g[H20] g[Soil])</li><li><code>H_WP_Z1</code>: Humidity at wilting point (g[H20] g[Soil]) for the first layer</li><li><code>Z1</code>: Thickness of the first layer (mm)</li><li><code>H_WP_Z2</code>: Humidity at wilting point (g[H20] g[Soil]) for the second layer</li><li><code>Z2</code>: Thickness of the second layer (mm)</li><li><code>H_0</code>: Initial soil humidity (g[H20] g[Soil])</li><li><code>KC</code>: crop coefficient (unitless)</li><li><code>TRESH_EVAP</code>: fraction of water content in the evaporative layer below which evaporation is reduced (g[H20] g[Soil])</li><li><code>TRESH_FTSW_TRANSPI</code>: FTSW treshold below which transpiration is reduced (g[H20] g[Soil])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW.jl#L1-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.FTSW_BP" href="#XPalm.Models.FTSW_BP"><code>XPalm.Models.FTSW_BP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FTSW_BP(H_FC::Float64, H_WP_Z1::Float64,Z1::Float64,H_WP_Z2::Float64,Z2::Float64,H_0::Float64,KC::Float64,TRESH_EVAP::Float64,TRESH_FTSW_TRANSPI::Float64)</code></pre><p>Fraction of Transpirable Soil Water model.</p><p><strong>Arguments</strong></p><ul><li><code>ini_root_depth</code>: root depth at initialization (mm)</li><li><code>H_FC</code>: Humidity at field capacity (g[H20] g[Soil])</li><li><code>H_WP_Z1</code>: Humidity at wilting point (g[H20] g[Soil]) for the first layer</li><li><code>Z1</code>: Thickness of the first layer (mm)</li><li><code>H_WP_Z2</code>: Humidity at wilting point (g[H20] g[Soil]) for the second layer</li><li><code>Z2</code>: Thickness of the second layer (mm)</li><li><code>H_0</code>: Initial soil humidity (g[H20] g[Soil])</li><li><code>KC</code>: cultural coefficient (unitless)</li><li><code>TRESH_EVAP</code>: fraction of water content in the evaporative layer below which evaporation is reduced (g[H20] g[Soil])</li><li><code>TRESH_FTSW_TRANSPI</code>: FTSW treshold below which transpiration is reduced (g[H20] g[Soil])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW_BP.jl#L3-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.FemaleBiomass" href="#XPalm.Models.FemaleBiomass"><code>XPalm.Models.FemaleBiomass</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>FemaleBiomass(respiration<em>cost,respiration</em>cost<em>oleosynthesis) FemaleBiomass(respiration</em>cost=1.44,respiration<em>cost</em>oleosynthesis=3.2)</p><p>Compute female biomass (inflo and bunch) from daily carbon allocation. Allocation to the different components of the bunch (stalk adnd fruit) is proportional to their carbon demand.</p><p><strong>Arguments</strong></p><ul><li><code>respiration_cost</code>: respiration cost  (g g-1)</li><li><code>respiration_cost_oleosynthesis</code>: respiration cost of fruits oil  (g g-1)</li></ul><p><strong>inputs</strong></p><ul><li><code>carbon_allocation</code>: carbon allocated to female inflo</li><li><code>carbon_demand_stalk</code>: carbon demand of the stalk</li><li><code>carbon_demand_non_oil</code>: carbon demand of non oil components of fruits</li><li><code>carbon_demand_oil</code>: carbon demand of fruits oil</li><li><code>state</code>: state of the inflorescence </li></ul><p><strong>outputs</strong></p><ul><li><code>biomass</code>: total ifnlo/bunch biomass</li><li><code>biomass_stalk</code>: stalk biomass</li><li><code>biomass_fruits</code>: fruits biomass</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Female/biomass.jl#L2-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.FemaleCarbonDemandModel" href="#XPalm.Models.FemaleCarbonDemandModel"><code>XPalm.Models.FemaleCarbonDemandModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FemaleCarbonDemandModel(
    respiration_cost,
    respiration_cost_oleosynthesis,
    TT_flowering,
    TT_fruiting,
    duration_bunch_development,
    duration_oleosynthesis,
    duration_dev_stalk,
)

FemaleCarbonDemandModel(;
    respiration_cost=1.44,
    respiration_cost_oleosynthesis=3.2,
    TT_flowering=10530.0,
    duration_bunch_development=1215.0,
    duration_fruit_setting=405.0,
    fraction_period_oleosynthesis=0.8,
    fraction_period_stalk=0.2
)</code></pre><p>Carbon demand of the female inflorescence based on the potential fruit biomass</p><p><strong>Arguments</strong></p><ul><li><code>respiration_cost</code>: growth respiration cost (g g⁻¹)</li><li><code>respiration_cost_oleosynthesis</code>: respiration cost during oleosynthesis (g g⁻¹)</li><li><code>TT_flowering</code>: thermal time for flowering since phytomer appearance (degree days).</li><li><code>TT_fruiting</code>: thermal time for fruit setting since phytomer appearance (degree days).</li><li><code>duration_bunch_development</code>: duration between fruit set and bunch maturity (ready for harvest) (degree days).</li><li><code>duration_oleosynthesis</code>: duration of oleosynthesis (degree days).</li><li><code>duration_dev_stalk</code>: duration of stalk development (degree days).</li><li><code>duration_fruit_setting</code>: period of thermal time after flowering that determines the number of flowers in the bunch that become fruits, <em>i.e.</em> fruit set (degree days).</li><li><code>fraction_period_oleosynthesis</code>: fraction of the duration between flowering and harvesting when oleosynthesis occurs</li><li><code>fraction_period_stalk</code>: fraction of the duration between flowering and harvesting when stalk development occurs</li></ul><p><strong>Inputs</strong></p><ul><li><code>final_potential_biomass_non_oil_fruit</code>: potential fruit biomass that is not oil (g fruit-1)</li><li><code>final_potential_biomass_oil_fruit</code>: potential oil biomass in the fruit (g fruit-1)</li><li><code>TEff</code>: daily effective temperature (°C)</li><li><code>TT_since_init</code>: thermal time since the first day of the phytomer (degree days)</li><li><code>state</code>: state of the leaf</li></ul><p><strong>Outputs</strong></p><ul><li><code>carbon_demand</code>: total carbon demand (g[sugar])</li><li><code>carbon_demand_oil</code>: carbon demand for oil production (g[sugar])</li><li><code>carbon_demand_non_oil</code>: carbon demand for non-oil production (g[sugar])</li><li><code>carbon_demand_stalk</code>: carbon demand for stalk development (g[sugar])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Female/carbon_demand.jl#L1-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.FemaleFinalPotentialFruits" href="#XPalm.Models.FemaleFinalPotentialFruits"><code>XPalm.Models.FemaleFinalPotentialFruits</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FemaleFinalPotentialFruits(;
    days_increase_number_fruits=2379,
    days_maximum_number_fruits=6500,
    fraction_first_female=0.3,
    potential_fruit_number_at_maturity=2000,
    potential_fruit_weight_at_maturity=6.5,
    stalk_max_biomass=2100.0,
    oil_content=0.25
)</code></pre><p><strong>Arguments</strong></p><ul><li><code>days_increase_number_fruits</code>: age at which the number of fruits starts to increase (days)</li><li><code>days_maximum_number_fruits</code>: age at which the palm makes bunch of mature size with the highest number of fruits (days).</li><li><code>fraction_first_female</code>: size of the first bunches on a young palm relative to the size </li></ul><p>at maturity (dimensionless)</p><ul><li><code>potential_fruit_number_at_maturity</code>: potential number of fruits at maturity (number of fruits)</li><li><code>potential_fruit_weight_at_maturity</code>: potential weight of one fruit at maturity (g)</li><li><code>stalk_max_biomass</code>: maximum biomass of the stalk (g)</li><li><code>oil_content</code>: oil content in the fruit (g oil g⁻¹ fruit)</li></ul><p><strong>Inputs</strong></p><ul><li><code>initiation_age</code>: age at which the palm starts to make bunches (days)</li></ul><p><strong>Outputs</strong></p><ul><li><code>potential_fruits_number</code>: potential number of fruits (number of fruits)</li><li><code>final_potential_fruit_biomass</code>: potential biomass of fruits (g)</li><li><code>final_potential_biomass_stalk</code>: potential biomass of stalk (g)</li></ul><p><strong>Examples</strong></p><pre><code class="language-jl hljs">using PlantSimEngine
using MultiScaleTreeGraph
using XPalm
using XPalm.Models 

node = Node(NodeMTG(&quot;/&quot;, &quot;Plant&quot;, 1, 1))
pot_model = FemaleFinalPotentialFruits(8.0 * 365, 0.3, 2000.0, 6.5, 2100.0)

m = ModelList(
    pot_model,
    status = (initiation_age = 5000.0, )
)

meteo = Atmosphere(T = 20.0, Wind = 1.0, P = 101.3, Rh = 0.65)
run!(m, meteo, PlantMeteo.Constants(), node)

m[:potential_fruits_number]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Female/final_potential_biomass.jl#L1-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.GraphNodeCount" href="#XPalm.Models.GraphNodeCount"><code>XPalm.Models.GraphNodeCount</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GraphNodeCount(graph_node_count_ini=0)</code></pre><p>Stores the number of nodes in the graph.</p><p><strong>Arguments</strong></p><ul><li><code>graph_node_count_ini</code>: the initial number of nodes in the graph.</li></ul><p><strong>Outputs</strong></p><ul><li><code>graph_node_count</code>: the number of nodes in the graph.</li></ul><p><strong>Details</strong></p><p>This model does nothing. It is just used to define the value of the graph&#39;s node count so it exists in the <code>status</code> of the organ.</p><p>The node cound should be updated by the models that create new organs at the time-step of organ emission.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/mtg_node_count.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.InternodeBiomass" href="#XPalm.Models.InternodeBiomass"><code>XPalm.Models.InternodeBiomass</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>InternodeBiomass(respiration<em>cost) InternodeBiomass(respiration</em>cost=1.44)</p><p>Compute internode biomass from daily carbon allocation</p><p><strong>Arguments</strong></p><ul><li><code>initial_biomass</code>: initial biomass of the internode (g)</li><li><code>respiration_cost</code>: repisration cost  (g g-1)</li></ul><p><strong>Inputs</strong></p><ul><li><code>carbon_allocation</code>:carbon allocated to the internode</li></ul><p><strong>Outputs</strong></p><ul><li><code>biomass</code>: internode biomass (g)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/internode/biomass.jl#L4-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.InternodeCarbonDemandModel" href="#XPalm.Models.InternodeCarbonDemandModel"><code>XPalm.Models.InternodeCarbonDemandModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>InternodeCarbonDemandModel(; apparent<em>density</em>dry=300000.0, carbon<em>concentration=0.5, respiration</em>cost=1.44)</p><p>Compute internode carbon demand from potential dimensions</p><p><strong>Arguments</strong></p><ul><li><code>apparent_density</code>: stem apparent density of dry matter (g[dry mass] m⁻³).</li><li><code>carbon_concentration</code>: carbon concentration in the stem (g[C] g[dry mass]⁻¹). </li><li><code>respiration_cost</code>: repisration cost  (g[sugar].g[carbon mass]-1)</li></ul><p><strong>Notes</strong></p><p>The stem apparent density is transformed into a carbon density by multiplying it by the carbon concentration.</p><p><strong>Inputs</strong></p><ul><li><code>potential_height</code>: potential height of the internode (m)</li><li><code>potential_radius</code>: potential radius of the internode (m)</li></ul><p><strong>Outputs</strong></p><ul><li><code>potential_volume</code>: potential volume of the internode (m³)</li><li><code>carbon_demand</code>: daily carbon demand of the internode (g[sugar])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/internode/carbon_demand.jl#L2-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.LAIModel" href="#XPalm.Models.LAIModel"><code>XPalm.Models.LAIModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>LAIModel()</p><p>Compute the leaf area index (LAI) using all leaves in the scene and the scene surface area.</p><p><strong>Arguments</strong></p><ul><li><code>area</code>: the surface area of the scene.</li></ul><p><strong>Inputs</strong></p><ul><li><code>leaf_areas</code>: a vector of all leaf area values in the scene (from each leaf, or each plant)</li></ul><p><strong>Outputs</strong></p><ul><li><code>leaf_area</code>: the total leaf area of the scene (m²)</li><li><code>lai</code>: the leaf area index (m² m⁻²)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/lai.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.LeafAreaModel" href="#XPalm.Models.LeafAreaModel"><code>XPalm.Models.LeafAreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LeafAreaModel(lma_min, leaflets_biomass_contribution, leaf_area_ini)</code></pre><p>Leaf area from its biomass.</p><p><strong>Arguments</strong></p><ul><li><code>lma_min</code>: minimal leaf mass area (when there is no reserve in the leaf)</li><li><code>leaflets_biomass_contribution</code>: ratio of leaflets biomass to total leaf biomass including rachis and petiole (0-1)</li></ul><p><strong>Inputs</strong></p><ul><li><code>biomass</code>: leaf biomass (g)</li></ul><p><strong>Outputs</strong></p><ul><li><code>leaf_area</code>: leaf area (m2)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/leaf_area.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.LeafCarbonDemandModelArea" href="#XPalm.Models.LeafCarbonDemandModelArea"><code>XPalm.Models.LeafCarbonDemandModelArea</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LeafCarbonDemandModelArea(lma_min, respiration_cost, leaflets_biomass_contribution)</code></pre><p>Carbon demand of the leaf based on the difference between the current leaf area and the  potential leaf area.</p><p>This model assumes that the leaf is always trying to catch its potential growth, so  leaf demand can increase more than the daily potential to alleviate any previous stress effect.</p><p>See also <code>LeafCarbonDemandModelPotentialArea</code>.</p><p><strong>Arguments</strong></p><ul><li><code>lma_min</code>: minimum leaf mass area (g m⁻²)</li><li><code>respiration_cost</code>: growth respiration cost (g g⁻¹)</li><li><code>leaflets_biomass_contribution</code>: contribution of the leaflet biomass to the total leaf biomass (including rachis)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/carbon_demand.jl#L45-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.LeafStateModel" href="#XPalm.Models.LeafStateModel"><code>XPalm.Models.LeafStateModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LeafStateModel()</code></pre><p>Give the state of the leaf </p><p><strong>Arguments</strong></p><p>None</p><p><strong>Inputs</strong></p><ul><li><code>maturity</code>: a leaf is mature when it reaches its final length</li><li><code>state_phytomers</code>: state of the phytomers (multiscale variable)</li></ul><p><strong>Outputs</strong></p><ul><li><code>state</code>: leaf state (&quot;undetermined&quot;, &quot;Opened&quot;, &quot;Pruned&quot;)</li><li><code>rank_leaves</code>: rank of all leaves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/state.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.MaleBiomass" href="#XPalm.Models.MaleBiomass"><code>XPalm.Models.MaleBiomass</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>MaleBiomass(respiration<em>cost) MaleBiomass(respiration</em>cost=1.44)</p><p>Compute male biomass  from daily carbon allocation</p><p><strong>Arguments</strong></p><ul><li><code>respiration_cost</code>: respiration cost  (g g-1)</li></ul><p><strong>inputs</strong></p><ul><li><code>carbon_allocation</code>: carbon allocated to female inflo</li><li><code>state</code>: state of the inflorescence </li></ul><p><strong>outputs</strong></p><ul><li><code>biomass</code>: inflo biomass</li><li><code>litter_male</code>: biomass of senescent inflorescent that goes to the litter </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Male/biomass.jl#L2-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.MaleFinalPotentialBiomass" href="#XPalm.Models.MaleFinalPotentialBiomass"><code>XPalm.Models.MaleFinalPotentialBiomass</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MaleFinalPotentialBiomass(male_max_biomass, age_mature_male, fraction_biomass_first_male)</code></pre><p><strong>Arguments</strong></p><ul><li><code>male_max_biomass</code>: maximal biomass of a male (gC)</li><li><code>age_mature_male</code>: age at which the palm plant reaches a mature state for producing male inflorescences (days)</li><li><code>fraction_biomass_first_male</code>: fraction of the maximal biomass that first males can reach (dimensionless)</li></ul><p><strong>Inputs</strong></p><ul><li><code>initiation_age</code>: age of the plant when the organ was initiated (days)</li></ul><p><strong>Outputs</strong></p><ul><li><code>final_potential_biomass</code>: final potential biomass of the male inflorescence (gC)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Male/final_potential_biomass.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.NumberFruits" href="#XPalm.Models.NumberFruits"><code>XPalm.Models.NumberFruits</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NumberFruits(TT_flowering, duration_dev_fruits)</code></pre><p>Determines the number of fruits on the bunch.</p><p><strong>Arguments</strong></p><ul><li><code>TT_flowering</code>: thermal time for flowering since phytomer appearence (degree days).</li><li><code>duration_fruit_setting</code>: period of thermal time after flowering that determines the number of flowers in the bunch that become fruits, <em>i.e.</em> fruit set (degree days).</li><li><code>computed</code>: </li></ul><p><strong>Inputs</strong></p><ul><li><code>carbon_offer_plant</code>: carbon offer maintenance respiration (gC/plant).</li><li><code>potential_fruits_number</code>: potential number of fruits (number/bunch).</li><li><code>carbon_demand_plant</code>: carbon demand of the plant (gC/plant), used to compute the plant trophic status.</li><li><code>carbon_offer_plant</code>: carbon offer of the plant (gC/plant), used to compute the plant trophic status.</li></ul><p><strong>Outputs</strong></p><ul><li><code>fruits_number</code>: number of fruits (number/bunch).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Female/number_fruits.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.NumberSpikelets" href="#XPalm.Models.NumberSpikelets"><code>XPalm.Models.NumberSpikelets</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NumberSpikelets(TT_flowering=6300.0, duration_dev_spikelets=675.0)</code></pre><p>Determines the number of spikelets on the fruit bunch.</p><p><strong>Arguments</strong></p><ul><li><code>TT_flowering</code>: thermal time for flowering since phytomer appearence (degree days).</li><li><code>duration_dev_spikelets</code>: period of thermal time before flowering that determines the number of spikelets on the fruit bunch (degree days).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/ReproductiveOrgans/Female/number_spikelets.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.OrgansCarbonAllocationModel" href="#XPalm.Models.OrgansCarbonAllocationModel"><code>XPalm.Models.OrgansCarbonAllocationModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>OrgansCarbonAllocationModel()</p><p>Compute the carbon to allocate to organs from photosysthesis and reserve mobilization (after maintenance respiration) </p><p><strong>Arguments</strong></p><ul><li><code>cost_reserve_mobilization</code>: carbon cost to mobilize carbon reserve from stem or leaves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/carbon_allocation/carbon_allocation.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.PhyllochronModel" href="#XPalm.Models.PhyllochronModel"><code>XPalm.Models.PhyllochronModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PhyllochronModel(age<em>palm</em>maturity,production<em>speed</em>initial,production<em>speed</em>mature)</p><p>Compute the phyllochron and initiate a new phytomer at every new emergence. The phyllochron may be reduced by TEff if it is itself modulated by <em>e.g.</em> the available water in the soil.</p><p><strong>Arguments</strong></p><ul><li><code>age_palm_maturity</code>: age of the plant when maturity is establiched (days)</li><li><code>production_speed_initial</code>: initial phyllochron (for seedlings) (leaf.degreeC days-1)</li><li><code>production_speed_mature</code>: phyllochron at plant maturity (leaf.degreeC days-1)</li></ul><p><strong>Inputs</strong></p><ul><li><code>plant_age</code>= plant age (days)</li><li><code>TEff</code>: daily efficient temperature for plant growth (degree C days) </li><li><code>ftsw</code>= fraction of tranpirable soil water (unitless)</li></ul><p><strong>Outputs</strong></p><ul><li><code>newPhytomerEmergence</code>: fraction of time during two successive phytomer (at 1 the new phytomer emerge)</li><li><code>production_speed</code>= phyllochron at the current plant age (leaf.degreeC days-1)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/phyllochron.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.PhytomerEmission" href="#XPalm.Models.PhytomerEmission"><code>XPalm.Models.PhytomerEmission</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PhytomerEmission(mtg; phytomer_symbol=&quot;Phytomer&quot;, internode_symbol=&quot;Internode&quot;, leaf_symbol=&quot;Leaf&quot;) &lt;: AbstractPhytomer_EmissionModel</code></pre><p>A <code>PhytomerEmission</code> model, which emits a new phytomer when called. The new phytomer is composed of an internode and a leaf, and is added as a child of the last phytomer.</p><p><strong>Arguments</strong></p><ul><li><code>mtg::MultiScaleTreeGraph.Node</code>: The multiscale tree graph of the plant.</li><li><code>phytomer_symbol::String</code>: The symbol of the phytomer, default to &quot;Phytomer&quot;.</li><li><code>internode_symbol::String</code>: The symbol of the internode, default to &quot;Internode&quot;.</li><li><code>leaf_symbol::String</code>: The symbol of the leaf, default to &quot;Leaf&quot;.</li></ul><p><strong>Inputs</strong></p><ul><li><code>graph_node_count::Int</code>: The number of nodes in the graph.</li></ul><p>No other inputs, except for the simulation object (<code>sim_object</code>) as the last argument to <code>run!</code>.</p><p><strong>Outputs</strong></p><ul><li><code>last_phytomer::MultiScaleTreeGraph.Node</code>: The last phytomer of the palm, takes its values from the struct above as its first value.</li><li><code>phytomer_count::Int</code>: The number of phytomers in the palm.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/add_phytomer.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.PlantLeafAreaModel" href="#XPalm.Models.PlantLeafAreaModel"><code>XPalm.Models.PlantLeafAreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlantLeafAreaModel()</code></pre><p>Sum of the leaf area at plant scale.</p><p><strong>Inputs</strong></p><ul><li><code>leaf_area_leaves</code>: a vector of leaf area (m²)</li><li><code>leaf_states</code>: a vector of leaf states. Only leaves with state &quot;Opened&quot; are considered.</li></ul><p><strong>Outputs</strong></p><ul><li><code>leaf_area</code>: total leaf area of the plant (m²)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/leaf_area.jl#L34-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.PlantRm" href="#XPalm.Models.PlantRm"><code>XPalm.Models.PlantRm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlantRm()</code></pre><p>Total plant maintenance respiration based on the sum of <code>Rm</code>.</p><p><strong>Intputs</strong></p><ul><li><code>Rm_organs</code>: a vector of maintenance respiration from all organs in the plant in gC d⁻¹</li></ul><p><strong>Outputs</strong></p><ul><li><code>Rm</code>: the total plant maintenance respiration in gC d⁻¹</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/respiration/maintenance/Q10.jl#L47-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.PotentialAreaModel" href="#XPalm.Models.PotentialAreaModel"><code>XPalm.Models.PotentialAreaModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PotentialAreaModel(inflexion_index, slope)
PotentialAreaModel(inflexion_index=  560.0, slope=100.0)</code></pre><p>Computes the instantaneous potential area at a given cumulative thermal time using  a <a href="https://en.wikipedia.org/wiki/Logistic_function">logistic function</a>. In other words, it defines the development of the leaf area at the potential, <em>i.e.</em> without any stress.  It starts around 0.0 and goes to a maximum of <code>final_potential_area</code>.</p><p><strong>Arguments</strong></p><ul><li><code>inflexion_index</code>: a parameter that defines the relationship between the final potential</li></ul><p>leaf area and the inflexion point of the logistic function. The higher the final area, the  longer the time to reach the inflexion point.</p><ul><li><code>slope</code>: the slope of the relationship at the inflexion point.</li></ul><p><strong>Inputs</strong></p><ul><li><code>final_potential_area</code>: the final potential area when the leaf is fully developed</li><li><code>TT_since_init</code>: the cumulated thermal time since leaf initiation</li></ul><p><strong>Outputs</strong></p><ul><li><code>potential_area</code>: potential area of the leaf (m2)</li><li><code>maturity</code>: maturity is true when the leaf reaches its final length</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/potential_area.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.RUE_FTSW" href="#XPalm.Models.RUE_FTSW"><code>XPalm.Models.RUE_FTSW</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ConstantRUEModel(rue)</code></pre><p>Computes the <code>carbon_assimilation</code> using a constant radiation use efficiency (<code>rue</code>).</p><p><strong>Arguments</strong></p><ul><li><code>rue</code>: radiation use efficiency (gC MJ⁻¹)</li></ul><p><strong>Inputs</strong></p><ul><li><code>aPPFD</code>: the absorbed Photosynthetic Photon Flux Density in mol[PAR] m[leaf]⁻² s⁻¹.</li></ul><p><strong>Outputs</strong></p><ul><li><code>carbon_assimilation</code>: carbon offer from photosynthesis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/carbon_assimilation/rue_ftsw.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.RankLeafPruning" href="#XPalm.Models.RankLeafPruning"><code>XPalm.Models.RankLeafPruning</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RankLeafPruning(rank)</code></pre><p>Function to remove leaf biomass and area when the phytomer has an harvested bunch or when the leaf reaches a treshold rank (below rank of harvested bunches) </p><p><strong>Arguments</strong></p><ul><li><code>rank</code>: leaf rank treshold below whith the leaf is cutted</li></ul><p><strong>Inputs</strong></p><ul><li><code>state</code>: phytomer state</li></ul><p><strong>Outputs</strong></p><ul><li><code>litter_leaf</code>: leaf biomass removed from the plantand going to the litter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/leaves/leaf_pruning.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.ReproductiveOrganEmission" href="#XPalm.Models.ReproductiveOrganEmission"><code>XPalm.Models.ReproductiveOrganEmission</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_reproductive_organ!(...)</code></pre><p>Add a new reproductive organ to a phytomer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/add_reproductive_organ.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.RmQ10FixedN" href="#XPalm.Models.RmQ10FixedN"><code>XPalm.Models.RmQ10FixedN</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RmQ10FixedN(Q10, Mr, T_ref, P_alive)
RmQ10FixedN(Q10, Turn, Prot, N, Gi, Mx, T_ref, P_alive)</code></pre><p>Maintenance respiration based on a Q10 computation with fixed nitrogen values  and proportion of living cells in the organs.</p><p>See those three references for more details:</p><p>Dufrene, Ochs, et Saugier, « Photosynthèse et productivité du palmier à huile en liaison avec les facteurs climatiques ». Wit, Simulation of Assimilation, Respiration and Transpiration of Crops; DE VRIES, « The Cost of Maintenance Processes in Plant Cells ». DE VRIES, « The Cost of Maintenance Processes in Plant Cells ».</p><p><strong>Arguments</strong></p><ul><li><code>Q10</code>: Q10 factor (values should usually range between: 1.5 - 2.5, with 2.1 being the most common value)</li><li><code>Mr</code>: maintenance respiration coefficient (gC gDM⁻¹). Should be around 0.06.</li><li><code>T_ref</code>: Reference temperature at which Q10 was measured (usually around 25.0°C)</li><li><code>P_alive</code>: proportion of living cells in the organ</li><li><code>Turn</code>: maintenance cost coefficient of the turnover of free proteins and membranes</li><li><code>Prot= 6.25</code>: nitrogen to protein conversion coefficient</li><li><code>N</code>: nitrogen content of the organ (gN gDM⁻¹)</li><li><code>Gi</code>: maintenance cost coefficient of the ionic gradient</li><li><code>Mx</code>:mineral content of the organ (g gDM⁻¹)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/respiration/maintenance/Q10.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.RootGrowthFTSW" href="#XPalm.Models.RootGrowthFTSW"><code>XPalm.Models.RootGrowthFTSW</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>RootGrowthFTSW(TRESH<em>FTSW</em>SLOW<em>ROOTS, ROOTS</em>GROWTH<em>DEPTH, Z1, Z2) RootGrowthFTSW(TRESH</em>FTSW<em>SLOW</em>ROOTS=0.2, ROOTS<em>GROWTH</em>DEPTH=0.3, Z1=200, Z2=2000)</p><p>Compute root growth depending on thermal time and water stress (ftsw)</p><p><strong>Arguments</strong></p><ul><li><code>ini_root_depth</code>: initial root depth (mm)</li><li><code>ROOTS_GROWTH_DEPTH</code>: root growth in depth (mm.degreeC days-1)</li><li><code>TRESH_FTSW_SLOW_ROOTS</code>: ftsw treshold below which roots growth is reduced (unitless [0:1])</li></ul><p>The model as a dependency on an <code>AbstractFTSWModel</code> that must return a value for <code>ftsw</code>, and <code>soil_depth</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/roots/root_growth.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.SceneToPlantLightPartitioning" href="#XPalm.Models.SceneToPlantLightPartitioning"><code>XPalm.Models.SceneToPlantLightPartitioning</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SceneToPlantLightPartitioning()</code></pre><p>Partitioning from aPPFD at the scene scale to the plant scale based on the relative  leaf area of the plant.</p><p><strong>Arguments</strong></p><ul><li><code>scene_area</code>: the surface area of the scene (m⁻²) occupied by the plant.</li></ul><p><strong>Inputs</strong></p><ul><li><code>aPPFD</code>: absorbed Photosynthetic Photon Flux Density in mol[PAR] m[soil]⁻² d⁻¹ (scene scale).</li><li><code>leaf_area</code>: the target plant leaf area</li><li><code>scene_leaf_area</code>: the total scene leaf area</li></ul><p><strong>Outputs</strong></p><ul><li><code>aPPFD</code>: absorbed Photosynthetic Photon Flux Density in mol[PAR] plant⁻¹ s⁻¹.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/light/beer.jl#L73-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.SexDetermination" href="#XPalm.Models.SexDetermination"><code>XPalm.Models.SexDetermination</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SexDetermination(TT_flowering, duration_abortion, duration_sex_determination, sex_ratio_min, sex_ratio_ref, rng)
SexDetermination(TT_flowering, duration_abortion, duration_sex_determination, sex_ratio_min, sex_ratio_ref; random_seed=1)</code></pre><p>Determines the sex of a phytomer -or rather, its bunch- based on the trophic  state of the plant during a given period in thermal time.</p><p><strong>Arguments</strong></p><ul><li><code>TT_flowering</code>: thermal time for flowering since phytomer appearence (degree days).</li><li><code>duration_abortion</code>: duration used for computing abortion rate before flowering (degree days).</li><li><code>duration_sex_determination</code>: duration used for sex determination before the abortion period(degree days).</li><li><code>sex_ratio_min</code>: minimum allowed threshold of the sex ratio.</li><li><code>sex_ratio_ref</code>: reference threshold of the sex ratio, <em>i.e.</em> the value when the trophic status is 1 (offer=demand).</li><li><code>rng</code>: random number generator, <code>Random.MersenneTwister</code> by default.</li><li><code>random_seed</code>: random seed for the random number generator, 1 by default.</li></ul><p><strong>Inputs</strong></p><ul><li><code>carbon_offer_plant</code>: carbon offer at the plant scale (usually after maintenance respiration) (gC/plant).</li><li><code>carbon_demand_plant</code>: total carbon demand of the plant (gC/plant), used to compute the plant trophic status.</li></ul><p><strong>Outputs</strong></p><ul><li><code>sex</code>: the sex of the phytomer (or bunch) (&quot;undetermined&quot;, &quot;Female&quot; or &quot;Male&quot;).</li><li><code>carbon_demand_sex_determination</code>: carbon demand of the plant integrated over the period of sex determination (gC/plant)</li><li><code>carbon_offer_sex_determination</code>: carbon offer of the plant integrated over the period of sex determination (gC/plant)</li></ul><p><strong>Note</strong></p><p>The sex of the organ is determined at <code>TT_flowering-duration_abortion</code> based on the <code>trophic_status</code> of the plant during a period of time  before this date. The hypothesis is that a trophic stress can trigger more males in the plant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/sex_determination.jl#L1-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantSimEngine.run!" href="#PlantSimEngine.run!"><code>PlantSimEngine.run!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute root growth</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: root growth model</li><li>ftsw:  fraction of transpirable soil water (unitless [0:1])</li><li>TEff:  daily efficient temperature for plant growth (degree C days) </li></ul><p><strong>Outputs</strong></p><ul><li><code>root_depth</code>: root depth (cm)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/roots/root_growth.jl#L39-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantSimEngine.run!" href="#PlantSimEngine.run!"><code>PlantSimEngine.run!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run!(object, meteo, constants = Constants())</code></pre><p>Computes the light interception of an object using the Beer-Lambert law.</p><p><strong>Arguments</strong></p><ul><li><code>::Beer</code>: a Beer model, from the model list (<em>i.e.</em> m.light_interception)</li><li><code>models</code>: A <code>ModelList</code> struct holding the parameters for the model with</li></ul><p>initialisations for <code>lai</code> (m² m⁻²): the leaf area index.</p><ul><li><code>status</code>: the status of the model, usually the model list status (<em>i.e.</em> m.status)</li><li><code>meteo</code>: meteorology structure, see <a href="https://palmstudio.github.io/PlantMeteo.jl/stable/#PlantMeteo.Atmosphere"><code>Atmosphere</code></a></li><li><code>constants = PlantMeteo.Constants()</code>: physical constants. See <code>PlantMeteo.Constants</code> for more details</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using PlantSimEngine, PlantBiophysics, PlantMeteo
m = ModelList(light_interception=Beer(0.5), status=(lai=2.0,))

meteo = Atmosphere(T=20.0, Wind=1.0, P=101.3, Rh=0.65, Ri_PAR_f=300.0)
run!(m, meteo)
m[:aPPFD]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/light/beer.jl#L39-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantSimEngine.run!-Tuple{XPalm.Models.PhytomerEmission, Vararg{Any, 5}}" href="#PlantSimEngine.run!-Tuple{XPalm.Models.PhytomerEmission, Vararg{Any, 5}}"><code>PlantSimEngine.run!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_phytomer!(palm, initiation_age)</code></pre><p>Add a new phytomer to the palm</p><p><strong>Arguments</strong></p><ul><li><code>palm</code>: a Palm</li><li><code>initiation_age::Dates.Date</code>: date of initiation of the phytomer </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/add_phytomer.jl#L46-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantSimEngine.run!-Tuple{XPalm.Models.ReproductiveOrganEmission, Vararg{Any, 5}}" href="#PlantSimEngine.run!-Tuple{XPalm.Models.ReproductiveOrganEmission, Vararg{Any, 5}}"><code>PlantSimEngine.run!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_reproductive_organ!(...)</code></pre><p>Add a new reproductive organ to a phytomer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/plant/phytomer/phytomer/add_reproductive_organ.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.KS-Tuple{Any, Any}" href="#XPalm.Models.KS-Tuple{Any, Any}"><code>XPalm.Models.KS</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KS(fillRate, tresh)</code></pre><p>Coefficient of stress. </p><p><strong>Arguments</strong></p><ul><li><code>fillRate</code>: fill level of the compartment</li><li><code>tresh</code>: filling treshold of the  compartment below which there is a reduction in the flow</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.KS_bp-Tuple{Any, Any}" href="#XPalm.Models.KS_bp-Tuple{Any, Any}"><code>XPalm.Models.KS_bp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KS_bp(fillRate, tresh)</code></pre><p>Coefficient of stress. </p><p><strong>Arguments</strong></p><ul><li><code>fillRate</code>: fill level of the compartment</li><li><code>tresh</code>: filling treshold of the compartment below which there is a reduction in the flow</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW_BP.jl#L115-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.compute_compartment_size-Tuple{Any, Any}" href="#XPalm.Models.compute_compartment_size-Tuple{Any, Any}"><code>XPalm.Models.compute_compartment_size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_compartment_size(m, root_depth)</code></pre><p>Compute the size of the layers of the FTSW model.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: FTSW model</li><li><code>root_depth</code>: depth of the root system</li></ul><p><strong>Returns</strong></p><ul><li><code>SizeC1</code>: size of the evapotranspirable water layer in the first soil layer (mm)</li><li><code>SizeVap</code>: size of the evaporative layer within the first layer (mm)</li><li><code>SizeC1minusVap</code>: size of the transpirable layer within the first layer (SizeC1-SizeVap)</li><li><code>SizeC2</code>: size of the transpirable water layer in the first soil layer (mm)</li><li><code>SizeC</code>: size of transpirable soil water (mm) (SizeC2 + SizeC1minusVap)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW.jl#L121-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.Models.compute_compartment_size-Tuple{XPalm.Models.FTSW_BP, Any}" href="#XPalm.Models.compute_compartment_size-Tuple{XPalm.Models.FTSW_BP, Any}"><code>XPalm.Models.compute_compartment_size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_compartment_size(m, root_depth)</code></pre><p>Compute the size of the layers of the FTSW model.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: FTSW model</li><li><code>root_depth</code>: depth of the root system</li></ul><p><strong>Returns</strong></p><ul><li><code>SizeC1</code>: size of the evapotranspirable water layer in the first soil layer (mm)</li><li><code>SizeVap</code>: size of the evaporative layer within the first layer (mm)</li><li><code>SizeC1minusVap</code>: size of the transpirable layer within the first layer (SizeC1-SizeVap)</li><li><code>SizeC2</code>: size of the transpirable water layer in the first soil layer (mm)</li><li><code>SizeC</code>: size of transpirable soil water (mm) (SizeC2 + SizeC1minusVap)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/soil/FTSW_BP.jl#L127-L144">source</a></section></article><h3 id="VPalm-2"><a class="docs-heading-anchor" href="#VPalm-2">VPalm</a><a class="docs-heading-anchor-permalink" href="#VPalm-2" title="Permalink"></a></h3><p>Documentation for the main functions of the XPalm package.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.add_geometry!-NTuple{4, Any}" href="#XPalm.VPalm.add_geometry!-NTuple{4, Any}"><code>XPalm.VPalm.add_geometry!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_geometry!(
    mtg, refmesh_cylinder, refmesh_snag, ref_mesh_plane;
    snag_width=0.20u&quot;m&quot;, # see defaultOrthotropyAttribute in the trunk in the java implementation
    snag_height=0.15u&quot;m&quot;,
    snag_length=3.0u&quot;m&quot;,
)</code></pre><p>Adds geometry to the MTG (Multiscale Tree Graph) for the oil palm plant architecture, i.e. compute the meshes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/add_geometry.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.add_leaflet_geometry!-NTuple{8, Any}" href="#XPalm.VPalm.add_leaflet_geometry!-NTuple{8, Any}"><code>XPalm.VPalm.add_leaflet_geometry!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_leaflet_geometry!(
    leaflet_node, 
    rachis_position, 
    rachis_orientation, 
    rachis_rotation, 
    stem_bending, 
    refmesh_plane
)</code></pre><p>Create the leaflet geometry based on its segments.</p><p><strong>Arguments</strong></p><ul><li><code>leaflet_node</code>: The MTG node of the leaflet</li><li><code>rachis_position</code>: Position of the rachis section where the leaflet is attached</li><li><code>rachis_orientation</code>: Orientation angles [zenithal, azimuthal, torsion] of the rachis section</li><li><code>rachis_rotation</code>: Rotation of the rachis due to phyllotaxy (radians)</li><li><code>stem_bending</code>: Bending of the stem (radians)</li><li><code>refmesh_plane</code>: Reference mesh used for the planar leaflet segments</li></ul><p><strong>Returns</strong></p><ul><li>Nothing (the geometry is added directly to the leaflet node and its segments)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/leaflets.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.add_section_geometry!" href="#XPalm.VPalm.add_section_geometry!"><code>XPalm.VPalm.add_section_geometry!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_section_geometry!(
    node, internode_width, internode_height, internode_phyllotaxy, stem_bending, 
    refmesh_cylinder, position_section=Ref(Meshes.Point(0.0, 0.0, 0.0)), angles=[0.0, 0.0, 0.0],
    type::String,
)</code></pre><p>Create the petiole/rachis sections geometry based on their dimensions.</p><p><strong>Arguments</strong></p><ul><li><code>node</code>: the MTG node of the petiole/rachis</li><li><code>refmesh_cylinder</code>: the reference mesh used for a cylinder (<code>PlantGeom.RefMesh</code>)</li><li><code>internode_width</code>: the width of the internode on the stipe (m)</li><li><code>internode_height</code>: the height of the internode on the stipe (m)</li><li><code>internode_phyllotaxy</code>: the phyllotaxy of the internode on the stipe (°)</li><li><code>stem_bending</code>: the bending of the stipe (°)</li><li><code>type::String</code>: the type of the section (<code>&quot;PetioleSegment&quot;</code> or <code>&quot;RachisSegment&quot;</code>)</li><li><code>position_section=Ref(Meshes.Point(0.0, 0.0, 0.0))</code>: the position of the section relative to the first one.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/sections.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.bend-NTuple{16, Any}" href="#XPalm.VPalm.bend-NTuple{16, Any}"><code>XPalm.VPalm.bend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bend(
    type, width_bend, height_bend, init_torsion, x, y, z, mass_rachis, mass_leaflets_right, mass_leaflets_left,
    distance_application, elastic_modulus, shear_modulus, step, npoints, nsegments;
    all_points=false,
    angle_max=deg2rad(21),
    force=true,
    verbose=true
)</code></pre><p>Compute the deformation of the rachis by applying both bending and torsion.</p><p><strong>Arguments</strong></p><ul><li><code>type</code>: Vector of section types (1: triangle bottom, 2: rectangle, 3: triangle top, 4: ellipse, 5: circle).</li><li><code>width_bend</code>: Vector of segment section widths (m).</li><li><code>height_bend</code>: Vector of segment section heights (m).</li><li><code>init_torsion</code>: Vector of initial torsion angles (degrees).</li><li><code>x</code>: Vector of x coordinates of the segments.</li><li><code>y</code>: Vector of y coordinates of the segments.</li><li><code>z</code>: Vector of z coordinates of the segments.</li><li><code>mass_rachis</code>: Vector of rachis segment masses (kg).</li><li><code>mass_leaflets_right</code>: Vector of leaflet masses carried by the segment, on the right side (kg).</li><li><code>mass_leaflets_left</code>: Vector of leaflet masses carried by the segment, on the left side (kg).</li><li><code>distance_application</code>: Vector of application distances for the left and right weights (m).</li><li><code>elastic_modulus</code>: Vector of elasticity moduli (bending, MPa).</li><li><code>shear_modulus</code>: Vector of shear moduli (torsion, MPa).</li><li><code>step</code>: Length of the segments that discretize the object (m).</li><li><code>npoints</code>: Number of points used in the grid discretizing the section.</li><li><code>nsegments</code>: Number of segments dividing the rachis to compute the torsion and bending.</li><li><code>all_points=false</code>: return all points used in the computation (<code>true</code>), or only the input points corresponding to x, y and z coordinates (<code>false</code>, default).</li><li><code>angle_max=deg2rad(21)</code>: Maximum angle for testing the small displacement hypothesis (radians).</li><li><code>force=true</code>: Check if verify the small displacements hypothesis and bounds the values to be at maximum <code>angle_max</code></li><li><code>verbose=true</code>: Provide information during computation.</li></ul><p><strong>Returns</strong></p><p>Named tuple with geometrical fields describing the rachis bended and with torsion applied</p><ul><li><code>x</code>: x coordinates of the points.</li><li><code>y</code>: y coordinates of the points.</li><li><code>z</code>: z coordinates of the points.</li><li><code>length</code>: length of the segments.</li><li><code>angle_xy</code>: angle between the xy-plan and the segment.</li><li><code>angle_xz</code>: angle between the xz-plan and the segment.</li><li><code>torsion</code>: torsion angle of the segment.</li></ul><p>All these fields are vectors of the same length as the input vectors (i.e. number of segments).</p><p><strong>Details</strong></p><p>The bending and torsion are applied to the sections of the rachis defined by 5 segments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/bend.jl#L1-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.beta_distribution_norm-Tuple{Any, Any, Any}" href="#XPalm.VPalm.beta_distribution_norm-Tuple{Any, Any, Any}"><code>XPalm.VPalm.beta_distribution_norm</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">beta_distribution_norm(x, xm, ym)</code></pre><p>Calculate the normalized beta distribution value at point x. This is the exact implementation from the Java version.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: Position [0 to 1].</li><li><code>xm</code>: Mode of the beta distribution.</li><li><code>ym</code>: Maximum value of the beta distribution.</li></ul><p><strong>Returns</strong></p><ul><li>Normalized beta distribution value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L112-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.beta_distribution_norm_integral-Tuple{Any, Any}" href="#XPalm.VPalm.beta_distribution_norm_integral-Tuple{Any, Any}"><code>XPalm.VPalm.beta_distribution_norm_integral</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">beta_distribution_norm_integral(xm, ym)</code></pre><p>Calculate the integral (area) of the normalized beta distribution. Equivalent to betaDistributionNormIntegral in the Java version.</p><p><strong>Arguments</strong></p><ul><li><code>xm</code>: Mode of the beta distribution.</li><li><code>ym</code>: Value of the function at the mode.</li></ul><p><strong>Returns</strong></p><ul><li>Approximate area under the beta distribution curve.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L138-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.biomechanical_properties_rachis-NTuple{21, Any}" href="#XPalm.VPalm.biomechanical_properties_rachis-NTuple{21, Any}"><code>XPalm.VPalm.biomechanical_properties_rachis</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">biomechanical_properties_rachis(
    rachis_twist_initial_angle, rachis_twist_initial_angle_sdp,
    elastic_modulus, shear_modulus, rachis_length,
    leaflet_length_at_b_intercept, leaflet_length_at_b_slope, relative_position_bpoint,
    relative_position_bpoint_sd, relative_length_first_leaflet, relative_length_last_leaflet, relative_position_leaflet_max_length,
    rachis_fresh_weight, rank, height_cpoint, zenithal_cpoint_angle, nb_sections,
    height_rachis_tappering,
    points, iterations, angle_max;
    verbose, rng
)</code></pre><p>Use of the biomechanical model to compute the properties of the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_twist_initial_angle</code>: initial twist angle of the rachis (°)</li><li><code>rachis_twist_initial_angle_sdp</code>: standard deviation of the initial twist angle of the rachis (°)</li><li><code>elastic_modulus</code>: elastic modulus of the rachis (Pa)</li><li><code>shear_modulus</code>: shear modulus of the rachis (Pa)</li><li><code>rachis_length</code>: length of the rachis (m)</li><li><code>leaflet_length_at_b_intercept</code>: intercept of the linear function for the leaflet length at the B point (m)</li><li><code>leaflet_length_at_b_slope</code>: slope of the linear function for the leaflet length at the B point (m)</li><li><code>relative_position_bpoint</code>: relative position of the B point on the rachis (0: base to 1: tip)</li><li><code>relative_position_bpoint_sd</code>: standard deviation of the relative position of the B point on the rachis</li><li><code>relative_length_first_leaflet</code>: relative length of the first leaflet on the rachis (0 to 1)</li><li><code>relative_length_last_leaflet</code>: relative length of the last leaflet on the rachis (0 to 1)</li><li><code>relative_position_leaflet_max_length</code>: relative position of the longest leaflet on the rachis (0.111 to 0.999)</li><li><code>rachis_fresh_weight</code>: fresh weight of the rachis (kg)</li><li><code>rank</code>: rank of the rachis</li><li><code>height_cpoint</code>: height of the C point (m)</li><li><code>zenithal_cpoint_angle</code>: zenithal angle of the C point (°)</li><li><code>nb_sections</code>: number of sections to compute the bending</li><li><code>height_rachis_tappering</code>: tappering factor for the rachis height</li><li><code>npoints_computed</code>: number of points to compute the bending</li><li><code>iterations</code>: number of iterations to compute the bending</li><li><code>angle_max</code>: maximum angle to compute the bending (°)</li><li><code>verbose</code>: display information about the computation (e.g. checks on the units)</li><li><code>rng</code>: the random number generator</li></ul><p><strong>Returns</strong></p><p>A named tuple with the following fields:</p><ul><li><code>length</code>: vector with the length of each segment</li><li><code>points_positions</code>: the position of the points along the rachis</li><li><code>bending</code>: the bending angle of the rachis</li><li><code>deviation</code>: the deviation of the rachis (angle in the xz plane)</li><li><code>torsion</code>: the torsion of the rachis</li><li><code>x</code>: the x coordinates of the rachis</li><li><code>y</code>: the y coordinates of the rachis</li><li><code>z</code>: the z coordinates of the rachis</li></ul><p><strong>Details</strong></p><p>Split the rachis into 5 segments defined by remarkable points (C, C-B, B, B-A, A). Each segment has a particular shape, a mass, and the leaflets on both sides of the rachis have a mass. Coefficents are used to compute the mass distribution and relative lengths of segments. The rachis is bent using the <code>bend</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_rachis.jl#L1-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.build_mockup-Tuple{Any}" href="#XPalm.VPalm.build_mockup-Tuple{Any}"><code>XPalm.VPalm.build_mockup</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_mockup(parameters; merge_scale=:leaflet)</code></pre><p>Construct a mockup of an oil palm plant architecture using the specified parameters.</p><p><strong>Arguments</strong></p><ul><li><code>parameters::Dict</code>: Dictionary containing model parameters for the oil palm plant architecture. </li><li><code>merge_scale::Symbol</code>: (optional) The scale at which to merge geometry.<ul><li><code>:node</code>: Geometry is not merged, each node has its own mesh (finer scale is leaflet segments).</li><li><code>:leaflet</code> (default): Geometry is merged at the leaflet level.</li><li><code>:leaf</code>: All geometry for a leaf is merged into a single mesh.</li><li><code>:plant</code>: All plant geometry is merged into a single mesh.</li></ul></li></ul><p><strong>Description</strong></p><p>The <code>merge_scale</code> argument controls how the geometry is structured within the Multiscale Tree Graph (MTG). The resulting mesh is identical in all cases, but its organization differs.</p><ul><li>Using <code>:leaflet</code> retains the finest detail, with each leaflet having its own mesh. This is best for analyses like light interception at the organ level.</li><li>Using <code>:leaf</code> or <code>:plant</code> merges geometry into larger components. A single mesh for the whole plant (<code>:plant</code>) is the most performant for rendering, but it prevents querying information for individual organs from the mesh (e.g., which part of the mesh is a given leaflet).</li></ul><p><strong>Returns</strong></p><ul><li><code>mtg</code>: An MTG (Multiscale Tree Graph) representing the oil palm plant architecture, including geometry at the specified merge scale.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using VPalm
file = joinpath(dirname(dirname(pathof(VPalm))), &quot;test&quot;, &quot;files&quot;, &quot;parameter_file.yml&quot;)
parameters = read_parameters(file)
mtg = build_mockup(parameters; merge_scale=:plant)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/build_mockup.jl#L1-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.c_point_angle-NTuple{4, Any}" href="#XPalm.VPalm.c_point_angle-NTuple{4, Any}"><code>XPalm.VPalm.c_point_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">c_point_angle(leaf_rank, cpoint_decli_intercept, cpoint_decli_slope, cpoint_angle_SDP; rng)</code></pre><p>Compute the angle at the C point of the leaf.</p><p><strong>Arguments</strong></p><ul><li><code>leaf_rank</code>: Rank of the leaf</li><li><code>cpoint_decli_intercept</code>: Intercept of the linear relationship between leaf rank and C point declination</li><li><code>cpoint_decli_slope</code>: Slope of the linear relationship</li><li><code>cpoint_angle_SDP</code>: Standard deviation of the C point angle</li><li><code>rng</code>: Random number generator</li></ul><p><strong>Returns</strong></p><p>The zenithal angle at the C point of the leaf (°)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L82-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.calculate_segment" href="#XPalm.VPalm.calculate_segment"><code>XPalm.VPalm.calculate_segment</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_segment(relative_position, num_segments=10)</code></pre><p>Calculate the segment index for a given relative position along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>relative_position</code>: Relative position along the rachis [0 to 1), where 0 is the base and 1 is the tip.</li><li><code>num_segments</code>: Number of segments the rachis is divided into (default: 10).</li></ul><p><strong>Details</strong></p><p>We divide the rachis into segments to capture variations in properties along its length. This function:</p><ol><li>Converts a continuous relative position (0-1) into a discrete segment index</li><li>Ensures the segment index is within valid bounds (1 to num_segments)</li></ol><p><strong>Biological Context</strong></p><p>The palm rachis exhibits changing properties along its length, including:</p><ul><li>Leaflet grouping patterns</li><li>Leaflet sizes and angles</li></ul><p>Dividing the rachis into discrete segments allows the model to represent these gradual changes in a computationally efficient manner. Each segment can have different parameter values that together create the characteristic patterns seen in real palms.</p><p><strong>Returns</strong></p><p>The segment index (starts at 1 in Julia).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L597-L628">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.calculate_segment_angles-NTuple{5, Any}" href="#XPalm.VPalm.calculate_segment_angles-NTuple{5, Any}"><code>XPalm.VPalm.calculate_segment_angles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_segment_angles(young_modulus, initial_angle, leaflet_length, tapering, segment_positions)</code></pre><p>Calculate the global angles for each segment of a bent leaflet based on the Young&#39;s modulus model.</p><p><strong>Arguments</strong></p><ul><li><code>young_modulus</code>: Value of Young&#39;s modulus</li><li><code>initial_angle</code>: Initial angle from vertical in radians</li><li><code>leaflet_length</code>: Total length of the leaflet</li><li><code>tapering</code>: Tapering factor</li><li><code>segment_positions</code>: Array of segment boundary positions (normalized 0-1)</li></ul><p><strong>Returns</strong></p><ul><li>Array of segment angles in radians</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/simplified/young_modulus.jl#L94-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_leaf_rank" href="#XPalm.VPalm.compute_leaf_rank"><code>XPalm.VPalm.compute_leaf_rank</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_leaf_rank(nb_internodes, index_leaf)</code></pre><p>Compute the rank of a leaf based on the total number of internodes and the index of the leaf.</p><p><strong>Arguments</strong></p><ul><li><code>nb_internodes</code>: The total number of internodes until leaf of rank 1.</li><li><code>index_leaf</code>: The index of the leaf.</li><li><code>leaves_in_sheath</code>: The number of leaves in the sheath, i.e. with rank &lt; 1 (default is 0).</li></ul><p><strong>Note</strong></p><p>This is a simple leaf rank, not considering the leaves of rank &lt;= 0.</p><p><strong>Returns</strong></p><p>The leaf rank, i.e. 1 for the first opened leaf, 2 for the second leaf, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/leaf_rank.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_leaflet_type_frequencies-Tuple{Any, Any}" href="#XPalm.VPalm.compute_leaflet_type_frequencies-Tuple{Any, Any}"><code>XPalm.VPalm.compute_leaflet_type_frequencies</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_leaflet_type_frequencies(leaflet_frequency_high, leaflet_frequency_low)</code></pre><p>Compute the frequency of leaflet type within the sub-sections of a rachis.</p><p><strong>Arguments</strong></p><ul><li><code>leaflet_frequency_high</code>: Vector of frequency values for the +1 leaflet types (high) along the rachis sub-sections.</li><li><code>leaflet_frequency_low</code>: Vector of frequency values for the -1 leaflet types (low) along the rachis sub-sections..</li></ul><p>Note that the length of the two vectors must be the same. It will define how many sub-sections the rachis is divided into for this computation.</p><p><strong>Returns</strong></p><p>A vector of NamedTuples representing the <code>(;high, medium, low)</code> frequencies for each sub-section.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L695-L711">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_number_of_leaflets-NTuple{6, Any}" href="#XPalm.VPalm.compute_number_of_leaflets-NTuple{6, Any}"><code>XPalm.VPalm.compute_number_of_leaflets</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_number_of_leaflets(rachis_final_length, nb_max, nb_slope, nb_infl, nbLeaflets_SDP; rng)</code></pre><p>Compute the number of leaflets based on the logistic function, a standard deviation and a minimum value allowed.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_final_length</code>: Final length of the rachis (m).</li><li><code>nb_max</code>: Maximum number of leaflets.</li><li><code>nb_min</code>: Minimum number of leaflets.</li><li><code>nb_slope</code>: Slope parameter for the logistic function (leaflet m⁻¹).</li><li><code>nb_infl</code>: Inflection point parameter for the logistic function (m).</li><li><code>nbLeaflets_SDP</code>: Standard deviation of the normal distribution for the number of leaflets.</li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Returns</strong></p><p>The computed number of leaflets (integer).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L640-L658">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_properties_internode!-NTuple{8, Any}" href="#XPalm.VPalm.compute_properties_internode!-NTuple{8, Any}"><code>XPalm.VPalm.compute_properties_internode!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_properties_internode!(node, index, nb_internodes, rank, stem_height, stem_diameter, parameters, rng)</code></pre><p>Computes the mtg properties of an internode.</p><p><strong>Arguments</strong></p><ul><li><code>node</code>: the internode node</li><li><code>index</code>: the index of the internode</li><li><code>nb_internodes</code>: the total number of internodes</li><li><code>rank</code>: the rank of the internode</li><li><code>stem_height</code>: the height of the stem (m)</li><li><code>stem_diameter</code>: the diameter of the stem (m)</li><li><code>parameters</code>: the parameters of the model</li><li><code>rng</code>: the random number generator</li></ul><p><strong>Returns</strong></p><p>The internode node updated with properties.</p><p><strong>Details</strong></p><p>The internode dimensions are computed based on the dimensions of the stem and the parameters of the model:</p><ul><li>width: width of the internode (m)</li><li>diameter: diameter of the internode (m)</li><li>length: length of the internode (m)</li><li>rank: rank of the internode</li><li>Orthotropy: orthotropy of the internode (set as a constant value)</li><li>XEuler: Euler / phyllotactic angle of the internode (rad)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))), &quot;test&quot;, &quot;files&quot;, &quot;parameter_file.yml&quot;)
parameters = read_parameters(file)
nb_internodes = parameters[&quot;nb_leaves_emitted&quot;] + parameters[&quot;nb_internodes_before_planting&quot;] # The number of internodes emitted since the seed
# Plant / Scale 1
plant = Node(MutableNodeMTG(&quot;/&quot;, &quot;Plant&quot;, 1, 1))
# Stem (&amp; Roots) / Scale 2
stem = Node(plant, MutableNodeMTG(&quot;+&quot;, &quot;Stem&quot;, 1, 2))
compute_properties_stem!(stem, parameters, rng)
stem_height = stem[:stem_height]
stem_diameter = stem[:stem_diameter]
# Phytomer / Scale 3
phytomer = Node(stem, MutableNodeMTG(&quot;/&quot;, &quot;Phytomer&quot;, 1, 3))
# Internode &amp; Leaf / Scale 4
internode = Node(phytomer, MutableNodeMTG(&quot;/&quot;, &quot;Internode&quot;, 1, 4))
compute_properties_internode!(internode, 1, nb_internodes, stem_height, stem_diameter, parameters, rng)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_internode.jl#L1-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_properties_leaf!-NTuple{6, Any}" href="#XPalm.VPalm.compute_properties_leaf!-NTuple{6, Any}"><code>XPalm.VPalm.compute_properties_leaf!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_properties_leaf!(node, leaf_rank, is_alive, final_length, parameters, rng)</code></pre><p>Compute the properties of a leaf node:</p><ul><li>zenithal<em>insertion</em>angle: the zenithal insertion angle of the leaf (rad)</li><li>rachis_length: the length of the rachis (m)</li><li>zenithal<em>cpoint</em>angle: the zenithal angle at C-point (rad)</li></ul><p><strong>Arguments</strong></p><ul><li><code>node</code>: the leaf node</li><li><code>leaf_rank</code>: the rank of the leaf</li><li><code>is_alive</code>: is the leaf alive or dead (snag)?</li><li><code>final_length</code>: the final length of the leaf (m)</li><li><code>parameters</code>: the parameters of the model</li><li><code>rng</code>: the random number generator</li></ul><p><strong>Returns</strong></p><p>The leaf node updated with properties.</p><p><strong>Details</strong></p><p>The leaf dimensions are computed based on the dimensions of the stem and the parameters of the model:</p><ul><li>zenithal<em>insertion</em>angle: the zenithal insertion angle of the leaf (rad). Uses the <code>VPalm.leaf_insertion_angle</code> function.</li><li>rachis<em>length: the length of the rachis (m). Uses the `rachis</em>expansion` function.</li><li>zenithal<em>cpoint</em>angle: the zenithal angle at C-point (rad). Uses the <code>c_point_angle</code> function.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))), &quot;test&quot;, &quot;files&quot;, &quot;parameter_file.yml&quot;)
parameters = read_parameters(file)
nb_internodes = parameters[&quot;nb_leaves_emitted&quot;] + parameters[&quot;nb_internodes_before_planting&quot;] # The number of internodes emitted since the seed
nb_leaves_alive = floor(Int, mean_and_sd(parameters[&quot;nb_leaves_mean&quot;], parameters[&quot;nb_leaves_sd&quot;]; rng=rng))
nb_leaves_alive = min(nb_leaves_alive, nb_internodes)
# Plant / Scale 1
plant = Node(MutableNodeMTG(&quot;/&quot;, &quot;Plant&quot;, 1, 1))
# Stem (&amp; Roots) / Scale 2
stem = Node(plant, MutableNodeMTG(&quot;+&quot;, &quot;Stem&quot;, 1, 2))
compute_properties_stem!(stem, parameters, rng)
stem_height = stem[:stem_height]
stem_diameter = stem[:stem_diameter]
# Phytomer / Scale 3
phytomer = Node(stem, MutableNodeMTG(&quot;/&quot;, &quot;Phytomer&quot;, 1, 3))
# Internode &amp; Leaf / Scale 4
internode = Node(phytomer, MutableNodeMTG(&quot;/&quot;, &quot;Internode&quot;, 1, 4))
leaf = Node(internode, MutableNodeMTG(&quot;+&quot;, &quot;Leaf&quot;, 1, 4))
compute_properties_leaf!(leaf, 1, nb_internodes, nb_leaves_alive, parameters, rng)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_leaf.jl#L1-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_properties_petiole!-NTuple{12, Any}" href="#XPalm.VPalm.compute_properties_petiole!-NTuple{12, Any}"><code>XPalm.VPalm.compute_properties_petiole!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_properties_petiole!(
    petiole_node,
    insertion_angle, rachis_length, zenithal_cpoint_angle,
    width_base, height_base, cpoint_width_intercept,
    cpoint_width_slope, cpoint_height_width_ratio,
    petiole_rachis_ratio_mean,
    petiole_rachis_ratio_sd, nb_sections;
    rng=Random.MersenneTwister(1)
)</code></pre><p>Compute the dimensional properties of a petiole.</p><p><strong>Arguments</strong></p><ul><li><code>petiole_node</code>: the MTG Node of the petiole</li><li><code>insertion_angle</code>: the angle of insertion of the petiole on the stem (°)</li><li><code>rachis_length</code>: the length of the rachis (m)</li><li><code>zenithal_cpoint_angle</code>: the zenithal angle of the C point of the petiole, <em>i.e.</em> the tip (°)</li><li><code>width_base</code>: the width of the petiole at its base (m)</li><li><code>height_base</code>: the height of the petiole at its base (m)</li><li><code>cpoint_width_intercept</code>: the intercept of the linear function for the width at the C point (m)</li><li><code>cpoint_width_slope</code>: the slope of the linear function for the width at the C point</li><li><code>cpoint_height_width_ratio</code>: the ratio of the height to width at the C point</li><li><code>petiole_rachis_ratio_mean</code>: the mean ratio of the petiole to rachis length</li><li><code>petiole_rachis_ratio_sd</code>: the standard deviation of the ratio of the petiole to rachis length</li><li><code>nb_sections</code>: the number of sections discretizing the petiole</li><li><code>rng=Random.MersenneTwister(1)</code>: the random number generator</li></ul><p><strong>Returns</strong></p><p>The petiole node updated with properties.</p><p><strong>Details</strong></p><p>Properties are computed based on the allometries of the petiole and the rachis:</p><ul><li>length: the length of the petiole (m)</li><li>azimuthal_angle: the azimuthal angle of the petiole (°)</li><li>width_base: the width of the petiole at its base (m)</li><li>height_base: the height of the petiole at its base (m)</li><li>width_cpoint: the width of the petiole at the C point (m)</li><li>height_cpoint: the height of the petiole at the C point (m)</li><li>zenithal<em>insertion</em>angle: the zenithal angle of insertion of the petiole on the stem (°)</li><li>zenithal<em>cpoint</em>angle: the zenithal angle of the C point of the petiole (°)</li><li>section_length: the length of the petiole sections (m)</li><li>section<em>insertion</em>angle: the zenithal angle of insertion between the petioles sections (°)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_petiole.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_properties_petiole_section!-NTuple{5, Any}" href="#XPalm.VPalm.compute_properties_petiole_section!-NTuple{5, Any}"><code>XPalm.VPalm.compute_properties_petiole_section!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_properties_petiole_section!(petiole_node, section_node, index, nb_sections)</code></pre><p>Compute the dimension of a petiole section based on the dimensions of the petiole.</p><p><strong>Arguments</strong></p><ul><li><code>petiole_node</code>: the MTG Node of the petiole</li><li><code>section_node</code>: the MTG Node of the section to be computed</li><li><code>index</code>: the index of the section on the petiole, from 1 at the base to <code>nb_sections</code>.</li><li><code>nb_sections</code>: the number of sections discretizing the petiole</li><li><code>section_insertion_angle</code>: the zenithal angle of the petioles sections (global angle, °)</li></ul><p><strong>Returns</strong></p><p>The section node updated with dimensional properties.</p><p><strong>Details</strong></p><p>The <code>petiole_node</code> should have the following attributes:</p><ul><li><code>width_base</code>: the width of the petiole at its base (m)</li><li><code>height_base</code>: the height of the petiole at its base (m)</li><li><code>width_cpoint</code>: the width of the petiole at the C point (m)</li><li><code>height_cpoint</code>: the height of the petiole at the C point (m)</li><li><code>section_length</code>: the length of the petiole sections (m)</li><li><code>insertion_angle</code>: the angle of insertion of the petiole on the stem (°)</li><li><code>section_insertion_angle</code>: the zenithal angle of insertion between the petioles sections (°)</li><li><code>azimuthal_angle</code>: the azimuthal angle at the insertion (°)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_petiole.jl#L76-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.compute_properties_stem!-Tuple{Any, Any, Any}" href="#XPalm.VPalm.compute_properties_stem!-Tuple{Any, Any, Any}"><code>XPalm.VPalm.compute_properties_stem!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_properties_stem!(node, parameters, rng)</code></pre><p>Compute the properties of the stem node.</p><p><strong>Arguments</strong></p><ul><li><code>node</code>: the stem node</li><li><code>parameters</code>: the parameters of the Vpalm model</li><li><code>rng</code>: the random number generator</li></ul><p><strong>Returns</strong></p><p>The stem node updated with properties.</p><p><strong>Details</strong></p><p>The stem dimensions are computed based on the parameters of the model:</p><ul><li>stem<em>bending: the bending of the stem. Uses the `VPalm.stem</em>bending` function.</li><li>stem<em>height: the height of the stem. Uses the `VPalm.stem</em>height` function.</li><li>stem<em>diameter: the diameter of the stem. Uses the `VPalm.stem</em>diameter` function.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))), &quot;test&quot;, &quot;references&quot;, &quot;vpalm-parameter_file.yml&quot;)
parameters = read_parameters(file)
nb_internodes = parameters[&quot;nb_leaves_emitted&quot;] + parameters[&quot;nb_internodes_before_planting&quot;] # The number of internodes emitted since the seed
nb_leaves_alive = floor(Int, mean_and_sd(parameters[&quot;nb_leaves_mean&quot;], parameters[&quot;nb_leaves_sd&quot;]; rng=rng))
nb_leaves_alive = min(nb_leaves_alive, nb_internodes)
# Plant / Scale 1
plant = Node(MutableNodeMTG(&quot;/&quot;, &quot;Plant&quot;, 1, 1))
# Stem (&amp; Roots) / Scale 2
stem = Node(plant, MutableNodeMTG(&quot;+&quot;, &quot;Stem&quot;, 1, 2))
compute_properties_stem!(stem, parameters, rng)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_stem.jl#L1-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.create_leaflet_segments!-NTuple{9, Any}" href="#XPalm.VPalm.create_leaflet_segments!-NTuple{9, Any}"><code>XPalm.VPalm.create_leaflet_segments!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_leaflet_segments!(
    unique_mtg_id,
    leaflet_node,
    scale,
    leaflet_length,
    width_max,
    stiffness,
    tapering,
    leaflet_relative_pos,
    parameters
)</code></pre><p>Create the segments that make up a leaflet with proper shape and bending properties.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: Reference to the unique ID counter</li><li><code>leaflet_node</code>: Parent leaflet node</li><li><code>scale</code>: MTG scale for the segments</li><li><code>leaflet_length</code>: Total length of the leaflet in meters</li><li><code>width_max</code>: Maximum width of the leaflet in meters</li><li><code>stiffness</code>: Stiffness value (Young&#39;s modulus) for biomechanical bending</li><li><code>tapering</code>: Tapering factor (how width decreases along length)</li><li><code>leaflet_relative_pos</code>: Relative position of the leaflet on the rachis (0-1)</li><li><code>parameters</code>: Model parameters</li></ul><p><strong>Returns</strong></p><p>Nothing (segments are added directly to the leaflet node as children)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L269-L299">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.create_leaflets_for_side!-NTuple{12, Any}" href="#XPalm.VPalm.create_leaflets_for_side!-NTuple{12, Any}"><code>XPalm.VPalm.create_leaflets_for_side!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_leaflets_for_side!(
    unique_mtg_id,
    rachis_node,
    scale,
    leaf_rank,
    rachis_length,
    nb_rachis_sections,
    leaflets_position,
    leaflets,
    leaflet_max_length,
    leaflet_max_width,
    side,
    parameters;
    last_rank_unfolding=2,
    rng=Random.MersenneTwister(1234)
)</code></pre><p>Create leaflets for one side of the palm frond rachis.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: Reference to the unique ID counter for MTG nodes</li><li><code>rachis_node</code>: Root node of the rachis</li><li><code>scale</code>: MTG scale for leaflets</li><li><code>leaf_rank</code>: Rank of the leaf (affects unfolding for young fronds)</li><li><code>rachis_length</code>: Total length of the rachis in meters</li><li><code>nb_rachis_sections</code>: Number of segments dividing the rachis</li><li><code>leaflets_position</code>: Array of positions along the rachis for each leaflet</li><li><code>leaflets</code>: NamedTuple with leaflet grouping information (group, group_size, plane)</li><li><code>leaflet_max_length</code>: Maximum length of leaflets (length of the longest leaflet)</li><li><code>leaflet_max_width</code>: Maximum width of leaflets (width of the widest leaflet)</li><li><code>side</code>: Side of rachis (1=right, -1=left)</li><li><code>parameters</code>: Model parameters</li><li><code>last_rank_unfolding=2</code>: Rank at which leaflets are fully unfolded (default is 2)</li><li><code>rng=Random.MersenneTwister(1234)</code>: Random number generator</li></ul><p><strong>Returns</strong></p><p>Nothing (leaflets are attached directly to the rachis node in the MTG structure)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.create_section-Tuple{Any, Any}" href="#XPalm.VPalm.create_section-Tuple{Any, Any}"><code>XPalm.VPalm.create_section</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_section(section, section_type)</code></pre><p>Fill in the matrix according to the section shape.</p><p><strong>Arguments</strong></p><ul><li><code>section</code>: Section matrix.</li><li><code>section_type</code>: Section type (1: triangle bottom, 2: rectangle, 3: triangle top, 4: ellipse, 5: circle).</li></ul><p><strong>Returns</strong></p><ul><li>The filled section matrix with 1s for cells inside the shape and 0s outside.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/inertia_flex_rota.jl#L84-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.create_single_leaflet-NTuple{11, Any}" href="#XPalm.VPalm.create_single_leaflet-NTuple{11, Any}"><code>XPalm.VPalm.create_single_leaflet</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_single_leaflet(
    unique_mtg_id,
    index,
    scale,
    leaf_rank,
    leaflet_relative_pos,
    norm_leaflet_rank,
    plane,
    side,
    leaflet_max_length,
    leaflet_max_width,
    parameters;
    offset=0.0,
    last_rank_unfolding=2,
    rng=Random.MersenneTwister(1234)
)</code></pre><p>Create a single leaflet with properly computed angles, dimensions and segments.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: Reference to the unique ID counter</li><li><code>index</code>: Index for the leaflet node (for identification in MTG)</li><li><code>scale</code>: MTG scale level for the leaflet</li><li><code>leaf_rank</code>: Rank of the leaf (affects unfolding for young leaves)</li><li><code>leaflet_relative_pos</code>: Relative position of leaflet on rachis (0 to 1)</li><li><code>norm_leaflet_rank</code>: Normalized rank of the leaflet (0 to 1)</li><li><code>plane</code>: Plane type of leaflet (1=high/upward, 0=medium/horizontal, -1=low/downward)</li><li><code>side</code>: Side of the leaf (1=right, -1=left)</li><li><code>leaflet_max_length</code>: Maximum leaflet length in meters (length of the longest leaflet)</li><li><code>leaflet_max_width</code>: Maximum leaflet width in meters (width of the widest leaflet)</li><li><code>parameters</code>: Model parameters dictionary</li><li><code>offset</code>: Offset from the start of parent node (when applicable)</li><li><code>last_rank_unfolding</code>: Rank at which leaflets are fully unfolded (default is 2)</li><li><code>rng</code>: Random number generator</li></ul><p><strong>Returns</strong></p><p>The created leaflet node with all its segment children</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L104-L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.cylinder-Tuple{}" href="#XPalm.VPalm.cylinder-Tuple{}"><code>XPalm.VPalm.cylinder</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cylinder()
cylinder(r, l)</code></pre><p>Returns a normalized cylinder mesh, or a cylinder with radius <code>r</code> and length <code>l</code>.</p><p><strong>Arguments</strong></p><ul><li><code>r</code>: The radius of the cylinder.</li><li><code>l</code>: The length of the cylinder.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/cylinder.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.dist_and_angles_to_xyz-Tuple{Any, Any, Any}" href="#XPalm.VPalm.dist_and_angles_to_xyz-Tuple{Any, Any, Any}"><code>XPalm.VPalm.dist_and_angles_to_xyz</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dist_and_angles_to_xyz(dist_p2p1, vangle_xy, vangle_xz)</code></pre><p>Transform distances and angles into point coordinates.</p><p><strong>Arguments</strong></p><ul><li><code>dist_p2p1</code>: Vector of segment lengths (m).</li><li><code>vangle_xy</code>: Vector of angles between the segment and the XY plane (radians).</li><li><code>vangle_xz</code>: Vector of angles between the segment and the XZ plane (radians).</li></ul><p><strong>Returns</strong></p><p>The points as a vector of <code>Meshes.Point</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/xyz_dist_angles.jl#L52-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.draw_group_size-Tuple{Any, Any, Any}" href="#XPalm.VPalm.draw_group_size-Tuple{Any, Any, Any}"><code>XPalm.VPalm.draw_group_size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">draw_group_size(group, leaflet_type_frequencies, rng)</code></pre><p>Determine the size of a leaflet group based on the relative position along the rachis and frequency patterns.</p><p><strong>Arguments</strong></p><ul><li><code>group</code>: Index of the leaflet group based on its relative position on the rachis (1 to <code>length(leaflet_type_frequencies)</code>).</li><li><code>leaflet_type_frequencies</code>: Vector of NamedTuples representing frequency distributions for each rachis segment, with fields:<ul><li><code>high</code>: Frequency of plane=+1 leaflets (first leaflet in each group), <em>i.e.</em> leaflets on &quot;high&quot; position</li><li><code>medium</code>: Frequency of plane=0 leaflets (intermediate leaflets in groups), <em>i.e.</em> leaflets on &quot;medium&quot; position, horizontally inserted on the rachis</li><li><code>low</code>: Frequency of plane=-1 leaflets (terminal leaflets in groups), <em>i.e.</em> leaflets on &quot;low&quot; position</li></ul></li><li><code>rng</code>: Random number generator for stochastic determination.</li></ul><p><strong>Details</strong></p><p>This function implements an inverse relationship between the frequency of high (plane=1) leaflets and group size, modeling a fundamental biological pattern in palm frond architecture:</p><ul><li>Segments with high frequency of high leaflets produce many small groups of leaflets</li><li>Segments with low frequency of high leaflets produce fewer, larger groups of leaflets</li></ul><p>The calculation uses a probabilistic rounding mechanism to ensure proper statistical distribution  of group sizes. This creates the natural variation in leaflet grouping patterns seen along real palm fronds, where clustering patterns change systematically from base to tip.</p><p><strong>Returns</strong></p><p>An integer representing the number of leaflets in the group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L727-L756">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.elliptical_cylinder-Tuple{Any, Any, Any}" href="#XPalm.VPalm.elliptical_cylinder-Tuple{Any, Any, Any}"><code>XPalm.VPalm.elliptical_cylinder</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">elliptical_cylinder(r1, r2, l)</code></pre><p>Create an elliptical cylinder mesh.</p><p><strong>Arguments</strong></p><ul><li><code>r1</code>: The radius of the cylinder in the x direction.</li><li><code>r2</code>: The radius of the cylinder in the y direction.</li><li><code>l</code>: The length of the cylinder.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/cylinder.jl#L16-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.exponetial-Tuple{Any, Any, Any}" href="#XPalm.VPalm.exponetial-Tuple{Any, Any, Any}"><code>XPalm.VPalm.exponetial</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">exponetial(x, a, b)</code></pre><p>Compute an exponential function at given <code>x</code> value.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: The input value.</li><li><code>a</code>: The coefficient <code>a</code> of the exponential function.</li><li><code>b</code>: The coefficient <code>b</code> of the exponential function.</li></ul><p><strong>Note</strong></p><p>The exponential function is defined as <code>a * exp(b * x)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L75-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.final_angle-NTuple{4, Any}" href="#XPalm.VPalm.final_angle-NTuple{4, Any}"><code>XPalm.VPalm.final_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">final_angle(young_modulus, z_angle, length, tapering)</code></pre><p>Calculate the maximal deformation angle of a beam.</p><p><strong>Arguments</strong></p><ul><li><code>young_modulus</code>: Value of Young&#39;s modulus</li><li><code>z_angle</code>: Angle from vertical (upright) in radians</li><li><code>length</code>: Length of the beam where the load is applied</li><li><code>tapering</code>: Tapering factor of the beam</li></ul><p><strong>Returns</strong></p><ul><li>The final angle from vertical at the cantilever extremity (in radians)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/simplified/young_modulus.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.group_leaflets-Tuple{Any, Any, Any}" href="#XPalm.VPalm.group_leaflets-Tuple{Any, Any, Any}"><code>XPalm.VPalm.group_leaflets</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">group_leaflets(leaflets_relative_position, leaflets_type_frequency, rng)</code></pre><p>Compute the group, group size and plane positions of each leaflet along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>leaflets_relative_position</code>: Array of relative positions for the leaflets along the rachis (see <code>relative_leaflet_position()</code>).</li><li><code>leaflets_type_frequency</code>: Vector of NamedTuples representing frequency distributions along the rachis (if <em>e.g.</em> 10 values are provided, it means the rachis is divided into 10 sub-sections), with fields:<ul><li><code>high</code>: Frequency of plane=+1 leaflets (first leaflet in each group), <em>i.e.</em> leaflets on &quot;high&quot; position</li><li><code>medium</code>: Frequency of plane=0 leaflets (intermediate leaflets in groups), <em>i.e.</em> leaflets on &quot;medium&quot; position, horizontally inserted on the rachis</li><li><code>low</code>: Frequency of plane=-1 leaflets (terminal leaflets in groups), <em>i.e.</em> leaflets on &quot;low&quot; position</li></ul></li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Details</strong></p><p>This function:</p><pre><code class="nohighlight hljs">1. Organizes leaflets into groups based on position-dependent size distributions
2. Assigns a spatial plane to each leaflet within a group:
    - The first leaflet in each group is always placed on the high position (plane=1)
    - Subsequent leaflets are positioned on medium (plane=0) or low (plane=-1) positions based on their frequency distribution at that rachis segment</code></pre><p><strong>Biological Context</strong></p><p>Grouping of leaflets is a key morphological feature in palm species, particularly in oil palm (Elaeis guineensis). Unlike some palms with regularly spaced leaflets, oil palms exhibit distinctive clustering patterns where:</p><ol><li>Leaflets occur in groups of variable sizes, but typically around 3 leaflets per group</li><li>Within each group, leaflets emerge at different angles:<ul><li>The first leaflet points upward (high position)</li><li>Others point horizontally or downward (medium and low positions)</li></ul></li><li>The pattern of grouping changes along the rachis:<ul><li>Closer to the base: typically larger groups with more leaflets</li><li>Toward the tip: smaller groups or single leaflets</li></ul></li></ol><p>The model uses an inverse relationship between high-position leaflet frequency and group size to recreate the natural variation in leaflet insertion angle - sections with many high-position leaflets have smaller groups (but more of them), while sections with few high-position leaflets form larger groups.</p><p>The grouping pattern changes along the rachis, creating the characteristic appearance of palm fronds with varying leaflet arrangement  patterns from base to tip.</p><p><strong>Returns</strong></p><p>A NamedTuple containing arrays for:</p><ul><li><code>group</code>: Group identifier for each leaflet</li><li><code>group_size</code>: Size of the group that each leaflet belongs to</li><li><code>plane</code>: Spatial position/orientation of each leaflet (1=high, 0=medium, -1=low)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L487-L536">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.height_to_width_ratio-NTuple{5, Any}" href="#XPalm.VPalm.height_to_width_ratio-NTuple{5, Any}"><code>XPalm.VPalm.height_to_width_ratio</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">height_to_width_ratio(x, ratio_point_c, ratio_point_a, pos_ratio_max, ratio_max)</code></pre><p>Computes the relative width along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: relative position on the rachis</li><li><code>ratio_point_c</code>: ratio at point C</li><li><code>ratio_point_a</code>: ratio at point A</li><li><code>pos_ratio_max</code>: relative position of the maximum value of the ratio</li><li><code>ratio_max</code>: maximum ratio value</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_rachis.jl#L217-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.inertia_flex_rota" href="#XPalm.VPalm.inertia_flex_rota"><code>XPalm.VPalm.inertia_flex_rota</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inertia_flex_rota(base_width, height, orientation_angle, section_type, grid_size = 100)</code></pre><p>Compute the inertia of bending and torsion, and the cross-section area.</p><p><strong>Arguments</strong></p><ul><li><code>base_width</code>: Dimension of the base.</li><li><code>height</code>: Dimension of the height.</li><li><code>orientation_angle</code>: Section orientation angle (torsion, in radians).</li><li><code>section_type</code>: Section type (see details).</li><li><code>grid_size</code>: Number of discretizations (default to 100).</li></ul><p><strong>Details</strong></p><p>For the section type, possible values are:</p><ul><li><code>section_type = 1</code>: triangle (bottom-oriented)</li><li><code>section_type = 2</code>: rectangle</li><li><code>section_type = 3</code>: triangle (top-oriented)</li><li><code>section_type = 4</code>: ellipse</li><li><code>section_type = 5</code>: circle</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple with fields:<ul><li><code>ig_flex</code>: Bending inertia.</li><li><code>ig_tor</code>: Torsion inertia.</li><li><code>sr</code>: Cross-section surface.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/inertia_flex_rota.jl#L1-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.internode_diameter-NTuple{5, Any}" href="#XPalm.VPalm.internode_diameter-NTuple{5, Any}"><code>XPalm.VPalm.internode_diameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">internode_diameter(internode_index, rank, stem_diameter, stem_base_shrinkage, stem_top_shrinkage)</code></pre><p>Computes the diameter of an internode at a given rank.</p><p><strong>Arguments</strong></p><ul><li><code>internode_index</code>: The index of the internode.</li><li><code>rank</code>: The rank of the internode.</li><li><code>stem_diameter</code>: The diameter of the stem at the base.</li><li><code>stem_base_shrinkage</code>: The shrinkage coefficient at the stem base.</li><li><code>stem_top_shrinkage</code>: The shrinkage coefficient at the stem top.</li></ul><p><strong>Returns</strong></p><p>The diameter of the internode (m).</p><p><strong>Details</strong></p><p>A shrinking function is applied to the stem base and top to compute the diameter of the internode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/internode.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.internode_length-NTuple{6, Any}" href="#XPalm.VPalm.internode_length-NTuple{6, Any}"><code>XPalm.VPalm.internode_length</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Internode length model</code></pre><p>Computes the length of an internode at a given rank.</p><p><strong>Arguments</strong></p><ul><li><code>i</code>/ <code>internode_index</code>: The index of the internode.</li><li><code>Nbl</code> / <code>nb_internodes</code>: The total number of internodes == number of leaves emitted since planting.</li><li><code>sh</code> / <code>stem_height</code>: The height of the stem.</li><li><code>R</code> / <code>internode_rank_no_expansion</code>: The rank of the internode that will not expand.</li><li><code>N</code> / <code>nb_internodes_before_planting</code>: The number of internodes before planting.</li><li><code>l_0</code> / <code>internode_min_height</code>: The minimal length of the internode.</li></ul><p><strong>Returns</strong></p><p>The length of the internode (m).</p><p><strong>Details</strong></p><p>The internode length is computed using a quadratic function. The objective is to have a internodes that are short and growing for the first emitted leaves (before <code>nb_internodes_before_planting</code>), and then getting to a stable &quot;constant&quot; height, and at the end for the youngest leaves, having nodes currently growing (smaller).</p><p>The internode length is computed as follows :   Internode length     ^ l   |      _____________________     |    /|                     ||   / |                     | l<em>0 |  /  |                     |  |-|–-|––––––––––-|–-|––&gt; Internode number       1   N                   N +   N + Nbl        						  Nbl -                               R where :     - l</em>0 is <code>internode_min_height</code> (m), the minimum height of the internode.     - l is <code>internode_heigth_final</code> (m), the maximum height of the internode.<code>- N is</code>nb<em>internodes</em>before<em>planting<code>, the number of internodes before planting.     - R is</code>internode</em>rank<em>no</em>expansion<code>, the number of internodes not in expansion.     - Nbl is the number of leaves emitted since planting. with the conditions that :     - the sum of the areas of the first triangle, the rectangle and the last triangle is equal to</code>stem<em>height<code>.     - if the equation of the first line is</code>a * x + b<code>:         -</code>a = (l - l</em>0) / (N - 1)<code>-</code>b = l<em>0 - a<code>- the area of the first triangle is</code>a * N * (N + 1) / 2 + b * N<code>and after development :</code>l * N/2 + l</em>0 * N/2<code>- the area of the rectangle (between N + 1 and N + Nbl - R - 1) is</code>(Nbl - R - 1) * l<code>- if the equation of the last line is</code>c * x + d<code>, then:         -</code>c = (l<em>0 - l) / R<code>-</code>d = l</em>0 - c * (Nbl + N)<code>- the area of the last triangle is</code>(R + 1) * (c * (2<em>N + 2</em>Nbl - R) / 2 + d)<code>and after development :</code>l * ((R + 1)/ 2) + l_0 * (-(R + 1) / 2 + R + 1)<code>reminder:     - the sum of integers from m to n is</code>n * (n + 1) / 2 - m * (m - 1) / 2<code>- the sum of cx + d from m to n is</code>c * (n * (n + 1) / 2 - m * (m - 1) / 2) + d * (n - m + 1)<code>or</code>(n - m + 1) * (c * (n + m) / 2 + d)`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/internode.jl#L29-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.interp_points-Union{Tuple{P}, Tuple{AbstractVector{P}, Any}} where P&lt;:Meshes.Point" href="#XPalm.VPalm.interp_points-Union{Tuple{P}, Tuple{AbstractVector{P}, Any}} where P&lt;:Meshes.Point"><code>XPalm.VPalm.interp_points</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp_points(points, step)</code></pre><p>Interpolate points along a path to have equidistant points.</p><p><strong>Arguments</strong></p><ul><li><code>points</code>: Vector of Meshes.Point objects defining the original path.</li><li><code>step</code>: Distance between interpolated points.</li></ul><p><strong>Returns</strong></p><ul><li><code>vec_points</code>: Vector of interpolated Meshes.Point objects.</li><li><code>i_discret_pts_exp</code>: Indices of the original points in the interpolated path.</li><li><code>vec_dist_p2p1</code>: Vector of distances between consecutive points.</li><li><code>vec_angle_xy</code>: Vector of angles between segments and the XY plane.</li><li><code>vec_angle_xz</code>: Vector of angles between segments and the XZ plane.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/interpolate_points.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaf_insertion_angle" href="#XPalm.VPalm.leaf_insertion_angle"><code>XPalm.VPalm.leaf_insertion_angle</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaf_insertion_angle(rank, leaf_max_angle=90, leaf_slope_angle=0.05, leaf_inflection_angle=40)</code></pre><p>Compute the insertion angle of the leaf on the internode.</p><p>Note: The insertion angle is computed using a logistic function.</p><p><strong>Arguments</strong></p><ul><li><code>rank</code>: The rank of the leaf.</li><li><code>leaf_max_angle</code>: The maximum angle of the leaf.</li><li><code>leaf_slope_angle</code>: The slope of the logistic function.</li><li><code>leaf_inflection_angle</code>: The inflection point of the logistic function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/leaf.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_azimuthal_angle-NTuple{7, Any}" href="#XPalm.VPalm.leaflet_azimuthal_angle-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_azimuthal_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_azimuthal_angle(relative_pos, side, angle_c, angle_slope, angle_a, angle_sdp, rng)</code></pre><p>Calculate the leaflet insertion angle in the horizontal plane (in degrees).</p><p><strong>Arguments</strong></p><ul><li><code>relative_pos</code>: Relative position of the leaflet on the rachis [0 to 1].</li><li><code>side</code>: Side of the leaf (1 for right, -1 for left).</li><li><code>angle_c</code>: Constant parameter for the axial angle calculation (°).</li><li><code>angle_slope</code>: Slope parameter for the axial angle calculation (°).</li><li><code>angle_a</code>: Amplitude parameter for the axial angle calculation (°).</li><li><code>angle_sdp</code>: Standard deviation percentage for random variation (°).</li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Returns</strong></p><ul><li>Horizontal insertion angle in degrees.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1130-L1146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_length_at_bpoint-Tuple{Any, Any, Any}" href="#XPalm.VPalm.leaflet_length_at_bpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.leaflet_length_at_bpoint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_length_at_bpoint(rachis_length, intercept, slope)</code></pre><p>Compute the length of leaflets at the B point of the rachis using a linear relationship.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length</code>: The total length of the rachis (m).</li><li><code>intercept</code>: The intercept parameter of the linear function (m).</li><li><code>slope</code>: The slope parameter of the linear function (dimensionless).</li></ul><p><strong>Details</strong></p><p>This function uses a linear model to determine leaflet length at the B point:</p><pre><code class="nohighlight hljs">leaflet_length = intercept + slope * rachis_length</code></pre><p>The B point is a key reference point on the rachis that marks the transition from an oval to a round shape of the  rachis. The leaflet length at this point serves as a reference for calculating the distribution of leaflet lengths  along the entire rachis.</p><p><strong>Returns</strong></p><p>The length of leaflets at the B point position (m).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L870-L894">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_length_max-NTuple{7, Any}" href="#XPalm.VPalm.leaflet_length_max-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_length_max</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_length_max(
    leaflet_length_at_b, 
    relative_position_bpoint, 
    relative_length_first_leaflet, 
    relative_length_last_leaflet, 
    relative_position_leaflet_max_length, 
    relative_position_bpoint_sd, 
    rng
)</code></pre><p>Calculate the maximum leaflet length for the rachis, used to scale the relative length profile.</p><p><strong>Arguments</strong></p><ul><li><code>leaflet_length_at_b</code>: Length of leaflets at the B point on the rachis (m).</li><li><code>relative_position_bpoint</code>: Relative position of the B point along the rachis (0 to 1).</li><li><code>relative_length_first_leaflet</code>: Relative length of the first leaflet at rachis base [0 to 1].</li><li><code>relative_length_last_leaflet</code>: Relative length of the last leaflet at rachis tip [0 to 1].</li><li><code>relative_position_leaflet_max_length</code>: Relative position where leaflets reach maximum length [0 to 1].</li><li><code>relative_position_bpoint_sd</code>: Standard deviation for stochastic variation in B point position.</li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Details</strong></p><p>This function calculates the maximum leaflet length that would result in the specified  leaflet length at the B point, considering the shape of the length profile along the rachis.</p><p>The calculation uses the inverse of the relative length function at the B point position  to determine what maximum value would yield the desired length at that specific position.</p><p><strong>Biological Context</strong></p><p>In palm fronds, leaflet length typically follows a bell-shaped distribution along the rachis:</p><ol><li>Leaflets are short at the base (petiole end)</li><li>They increase in length to reach a maximum somewhere close to the middle of the rachis</li><li>They decrease in length toward the tip</li></ol><p>The B point is a key morphological reference point where the rachis cross-section  transitions from oval to round. By knowing the leaflet length at this specific point, we can calculate the maximum leaflet length for the entire frond, which serves as a scaling factor for all other leaflets.</p><p>The stochastic variation in B point position reflects natural biological variability between individual palms or fronds.</p><p><strong>Returns</strong></p><p>The maximum leaflet length for the rachis (m).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L899-L949">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_width_at_bpoint-Tuple{Any, Any, Any}" href="#XPalm.VPalm.leaflet_width_at_bpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.leaflet_width_at_bpoint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_width_at_bpoint(rachis_length, intercept, slope)</code></pre><p>Calculate leaflet width at B point (reference point).</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length</code>: The total length of the rachis (m).</li><li><code>intercept</code>: The intercept parameter of the linear function (m).</li><li><code>slope</code>: The slope parameter of the linear function (dimensionless).</li></ul><p><strong>Details</strong></p><p>This function uses a linear model to determine leaflet width at the B point:</p><pre><code class="nohighlight hljs">leaflet_width = intercept + slope * rachis_length</code></pre><p>The B point is a key reference point on the rachis that marks the transition  between different architectural zones. The leaflet width at this point serves  as a reference for calculating the distribution of leaflet widths along the  entire rachis.</p><p><strong>Returns</strong></p><ul><li>The width of leaflets at the B point position (m).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L985-L1007">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_width_max-NTuple{7, Any}" href="#XPalm.VPalm.leaflet_width_max-NTuple{7, Any}"><code>XPalm.VPalm.leaflet_width_max</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_width_max(
    leaflet_width_at_b,
    relative_position_bpoint,
    width_first,
    width_last,
    pos_width_max,
    relative_position_bpoint_sd,
    rng
)

leaflet_width_max(
    leaflet_width_at_b,
    relative_position_bpoint,
    width_first,
    width_last,
    pos_width_max,
)</code></pre><p>Calculate the maximum leaflet width for the rachis, used to scale the width profile.</p><p><strong>Arguments</strong></p><ul><li><code>leaflet_width_at_b</code>: Width of leaflets at the B point on the rachis (m).</li><li><code>relative_position_bpoint</code>: Mean relative position of the B point along the rachis [0 to 1].</li><li><code>width_first</code>: Relative width of the first leaflet at rachis base [0 to 1].</li><li><code>width_last</code>: Relative width of the last leaflet at rachis tip [0 to 1].</li><li><code>pos_width_max</code>: Relative position where leaflets reach maximum width [0 to 1].</li><li><code>relative_position_bpoint_sd</code>: Standard deviation for stochastic variation in B point position (optional).</li><li><code>rng</code>: Random number generator (optional). </li></ul><p><strong>Details</strong></p><p>This function calculates the maximum leaflet width that would result in the specified  width at the B point, considering the shape of the width profile along the rachis.</p><p>The calculation uses the inverse of the relative width function at the B point position  to determine what maximum value would yield the desired width at that specific position.</p><p><strong>Biological Context</strong></p><p>In palm fronds, leaflet width typically varies along the rachis:</p><ol><li>Narrow leaflets at the base (petiole end)</li><li>Wider leaflets in the middle region</li><li>Narrowing again toward the tip</li></ol><p>By knowing the leaflet width at the B point, we can calculate the maximum  leaflet width for the entire frond, which serves as a scaling factor for  all other leaflets.</p><p><strong>Returns</strong></p><p>The maximum leaflet width for the rachis (m).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1012-L1065">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_zenithal_angle-NTuple{12, Any}" href="#XPalm.VPalm.leaflet_zenithal_angle-NTuple{12, Any}"><code>XPalm.VPalm.leaflet_zenithal_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_zenithal_angle(relative_pos, leaflet_type, side, high_a0_sup, high_amax_sup, high_a0_inf, high_amax_inf, 
             low_a0_sup, low_amax_sup, low_a0_inf, low_amax_inf, rng)</code></pre><p>Calculate the leaflet insertion angle in the vertical plane (in degrees).</p><p><strong>Arguments</strong></p><ul><li><code>relative_pos</code>: Relative position of the leaflet on the rachis [0 to 1].</li><li><code>leaflet_type</code>: Type of leaflet (-1=down, 0=medium, 1=up).</li><li><code>side</code>: Side of the leaf (1 for right, -1 for left).</li><li><code>high_a0_sup</code>: Upper bound of angle at position 0 for high position leaflets.</li><li><code>high_amax_sup</code>: Upper bound of maximum angle for high position leaflets.</li><li><code>high_a0_inf</code>: Lower bound of angle at position 0 for high position leaflets.</li><li><code>high_amax_inf</code>: Lower bound of maximum angle for high position leaflets.</li><li><code>low_a0_sup</code>: Upper bound of angle at position 0 for low position leaflets.</li><li><code>low_amax_sup</code>: Upper bound of maximum angle for low position leaflets.</li><li><code>low_a0_inf</code>: Lower bound of angle at position 0 for low position leaflets.</li><li><code>low_amax_inf</code>: Lower bound of maximum angle for low position leaflets.</li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Returns</strong></p><ul><li>Vertical insertion angle in degrees.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1193-L1215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflet_zenithal_angle_boundaries" href="#XPalm.VPalm.leaflet_zenithal_angle_boundaries"><code>XPalm.VPalm.leaflet_zenithal_angle_boundaries</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflet_zenithal_angle_boundaries(rel_pos, a0, a_max, xm=0.5)</code></pre><p>Calculate the boundaries of the radial angle based on position along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>rel_pos</code>: Relative position on the rachis [0 to 1].</li><li><code>a0</code>: Radial angle around C point.</li><li><code>a_max</code>: Maximum value of radial angle (in degrees).</li><li><code>xm</code>: Relative position on rachis of the maximum radial angle (default: 0.5).</li></ul><p><strong>Returns</strong></p><ul><li>Radial angle in degrees.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1162-L1175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.leaflets!-NTuple{6, Any}" href="#XPalm.VPalm.leaflets!-NTuple{6, Any}"><code>XPalm.VPalm.leaflets!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">leaflets!(unique_mtg_id, rachis_node, scale, leaf_rank, rachis_length, parameters; rng=Random.MersenneTwister())</code></pre><p>Create leaflets for a given rachis node, computing their positions, types, and dimensions.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: Reference to a unique identifier for the MTG nodes.</li><li><code>rachis_node</code>: The parent node of the rachis where leaflets will be attached.</li><li><code>scale</code>: The scale of the leaflets in the MTG.</li><li><code>leaf_rank</code>: The rank of the leaf associated with the rachis.</li><li><code>rachis_length</code>: The total length of the rachis in meters.</li><li><code>height_cpoint</code>: The height of the central point of the rachis in meters.</li><li><code>width_cpoint</code>: The width of the central point of the rachis in meters.</li><li><code>zenithal_cpoint_angle</code>: The zenithal angle of the central point of the rachis in degrees.</li><li><code>parameters</code>: A dictionary containing biomechanical parameters for the leaflets.</li><li><code>rng</code>: A random number generator for stochastic processes (default is a new MersenneTwister).</li></ul><p><strong>Note</strong></p><p>The <code>parameters</code> is a <code>Dict{String}</code> containing the following keys:</p><ul><li><code>&quot;leaflets_nb_max&quot;</code>: Maximum number of leaflets per rachis.</li><li><code>&quot;leaflets_nb_min&quot;</code>: Minimum number of leaflets per rachis.</li><li><code>&quot;leaflets_nb_slope&quot;</code>: Slope for the number of leaflets distribution.</li><li><code>&quot;leaflets_nb_inflexion&quot;</code>: Inflexion point for the number of leaflets distribution.</li><li><code>&quot;nbLeaflets_SDP&quot;</code>: Standard deviation for the number of leaflets.</li><li><code>&quot;leaflet_position_shape_coefficient&quot;</code>: Shape coefficient for the relative positions of leaflets.</li><li><code>&quot;leaflet_frequency_high&quot;</code>: Frequency of high-position leaflets.</li><li><code>&quot;leaflet_frequency_low&quot;</code>: Frequency of low-position leaflets.</li><li><code>&quot;leaflet_frequency_shape_coefficient&quot;</code>: Shape coefficient for the frequency distribution of leaflets.</li><li><code>&quot;leaflet_between_to_within_group_ratio&quot;</code>: Ratio of spacing between groups to within groups.</li><li><code>&quot;leaflet_length_at_b_intercept&quot;</code>: Intercept for the length of leaflets at point B.</li><li><code>&quot;leaflet_length_at_b_slope&quot;</code>: Slope for the length of leaflets at point B.</li><li><code>&quot;relative_position_bpoint&quot;</code>: Relative position of point B along the rachis.</li><li><code>&quot;relative_position_bpoint_sd&quot;</code>: Standard deviation of the relative position of point B.</li><li><code>&quot;relative_length_first_leaflet&quot;</code>: Relative length of the first leaflet.</li><li><code>&quot;relative_length_last_leaflet&quot;</code>: Relative length of the last leaflet.</li><li><code>&quot;relative_position_leaflet_max_length&quot;</code>: Relative position of the leaflet with maximum length.</li><li><code>&quot;leaflet_width_at_b_intercept&quot;</code>: Intercept for the width of leaflets at point B.</li><li><code>&quot;leaflet_width_at_b_slope&quot;</code>: Slope for the width of leaflets at point B.</li><li><code>&quot;relative_width_first_leaflet&quot;</code>: Relative width of the first leaflet.</li><li><code>&quot;relative_width_last_leaflet&quot;</code>: Relative width of the last leaflet.</li><li><code>&quot;relative_position_leaflet_max_width&quot;</code>: Relative position of the leaflet with maximum width.</li><li><code>&quot;rachis_nb_segments&quot;</code>: Number of segments in the rachis.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L399-L444">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.linear-Tuple{Any, Any, Any}" href="#XPalm.VPalm.linear-Tuple{Any, Any, Any}"><code>XPalm.VPalm.linear</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">linear(x, intercept, slope)</code></pre><p>Compute a linear function at given <code>x</code> value.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: The input value.</li><li><code>intercept</code>: The intercept of the linear function.</li><li><code>slope</code>: The slope of the linear function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L59-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.local_flexion-NTuple{5, Any}" href="#XPalm.VPalm.local_flexion-NTuple{5, Any}"><code>XPalm.VPalm.local_flexion</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">local_flexion(current_angle, final_angle, young_modulus, tapering, relative_position)</code></pre><p>Calculate the local bending angle at a specific position along the beam.</p><p><strong>Arguments</strong></p><ul><li><code>current_angle</code>: Current angle in radians</li><li><code>final_angle</code>: Final angle of the beam in radians</li><li><code>young_modulus</code>: Value of Young&#39;s modulus</li><li><code>tapering</code>: Tapering factor of the beam</li><li><code>relative_position</code>: Relative position along the beam (0 to 1)</li></ul><p><strong>Returns</strong></p><ul><li>Flexion angle at the current position (in radians)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/simplified/young_modulus.jl#L65-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.logistic-NTuple{4, Any}" href="#XPalm.VPalm.logistic-NTuple{4, Any}"><code>XPalm.VPalm.logistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">logistic(x, max, slope, inflection)</code></pre><p>Compute a logistic function.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: The input value.</li><li><code>max</code>: The maximum value of the logistic function.</li><li><code>slope</code>: The slope of the logistic function.</li><li><code>inflection</code>: The inflection point of the logistic function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.mean_and_sd-Tuple{Any, Any}" href="#XPalm.VPalm.mean_and_sd-Tuple{Any, Any}"><code>XPalm.VPalm.mean_and_sd</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mean_and_sd(mean, sd; rng=Random.MersenneTwister(1234))</code></pre><p>Compute a random value from a normal distribution with a given mean and standard deviation.</p><p><strong>Arguments</strong></p><ul><li><code>mean</code>: The mean of the normal distribution.</li><li><code>sd</code>: The standard deviation of the normal distribution.</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L21-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.mtg_skeleton-Tuple{Any}" href="#XPalm.VPalm.mtg_skeleton-Tuple{Any}"><code>XPalm.VPalm.mtg_skeleton</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mtg_skeleton(nb_internodes)</code></pre><p>Makes an MTG skeleton with <code>nb_leaves_emitted</code> leaves, including all intermediate organs:</p><ul><li>Plant: the whole palm</li><li>Stem: the stem of the plant, <em>i.e.</em> the remaining part of the plant after the leaves have been removed</li><li>Phytomer: the part that includes the leaf and the internode</li><li>Internodes: the part of the phytomer that is between two leaves</li><li>Leaf: the leaf of the plant, also called frond</li></ul><p>Note: this skeleton does not include reproductive organs (inflorescences, fruits) or the scales that decompose the leaf (petiole, rachis, leaflets).</p><p><strong>Arguments</strong></p><ul><li><code>nb_internodes</code>: The number of internodes to emit.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))), &quot;test&quot;, &quot;files&quot;, &quot;parameter_file.yml&quot;)
parameters = read_parameters(file)
mtg_skeleton(parameters)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/mtg_skeleton.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.normal_deviation_draw" href="#XPalm.VPalm.normal_deviation_draw"><code>XPalm.VPalm.normal_deviation_draw</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normal_deviation_draw(sd, rng=Random.MersenneTwister(1234))</code></pre><p>Draw a random value from a normal distribution with a given standard deviation.</p><p><strong>Arguments</strong></p><ul><li><code>sd</code>: The standard deviation of the normal distribution.</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L40-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.normal_deviation_percent_draw-Tuple{Any, Any, Any}" href="#XPalm.VPalm.normal_deviation_percent_draw-Tuple{Any, Any, Any}"><code>XPalm.VPalm.normal_deviation_percent_draw</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normal_deviation_percent_draw(value, sdp, rng)</code></pre><p>Calculate a normally distributed random deviation based on a percentage of the value.</p><p><strong>Arguments</strong></p><ul><li><code>value</code>: Base value.</li><li><code>sd</code>: Standard deviation in %.</li><li><code>rng</code>: Random number generator.</li></ul><p><strong>Returns</strong></p><ul><li>The random deviation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L94-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.normalize_positions!-Tuple{Any, Any}" href="#XPalm.VPalm.normalize_positions!-Tuple{Any, Any}"><code>XPalm.VPalm.normalize_positions!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normalize_positions!(positions, rachis_length)</code></pre><p>Scale and offset positions to span the full rachis length.</p><p><strong>Arguments</strong></p><ul><li><code>positions</code>: Vector of positions to be modified in place.</li><li><code>rachis_length</code>: Total length of rachis in meters.</li></ul><p><strong>Details</strong></p><p>This function:</p><ol><li>Offsets positions so the first leaflet is at position 0</li><li>Scales all positions to ensure the last leaflet is exactly at rachis_length</li><li>Maintains the relative spacing pattern established by previous processing</li></ol><p>This ensures leaflets are properly distributed along the entire rachis while preserving the characteristic grouping patterns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L838-L858">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole-NTuple{7, Any}" href="#XPalm.VPalm.petiole-NTuple{7, Any}"><code>XPalm.VPalm.petiole</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole(parent_node, index, scale, rachis_length, zenithal_insertion_angle, zenithal_cpoint_angle, parameters)</code></pre><p>Make a leaf petiole.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: a next free unique id for the MTG nodes</li><li><code>parent_node</code>: the parent node on which the petiole will be attached</li><li><code>index</code>: the MTG index of the petiole</li><li><code>scale</code>: the MTG scale of the petiole</li><li><code>rachis_length</code>: the rachis length, used to feed allometries to compute the petiole dimensions</li><li><code>zenithal_insertion_angle</code>: petiole insertion angle</li><li><code>zenithal_cpoint_angle</code>: angle at the C point (tip of the petiole, starting point of the rachis)</li><li><code>parameters</code>: a list of parameters as a <code>Dict{String}</code>:<ul><li>&quot;leaf<em>base</em>width&quot;: the base width of the petiole (m)</li><li>&quot;leaf<em>base</em>height&quot;: the base heigth of the petiole (m)</li><li>&quot;cpoint<em>width</em>intercept&quot;: petiole width at the c-point intercept for linear interpolation (m)</li><li>&quot;cpoint<em>width</em>slope&quot;: petiole width at the c-point slope for linear interpolation</li><li>&quot;cpoint<em>height</em>width_ratio&quot;: height to width ratio at the C point</li><li>&quot;petiole<em>rachis</em>ratio_mean&quot;: the average value of the ratio between rachis length and petiole length</li><li>&quot;petiole<em>rachis</em>ratio_sd&quot;: its standard deviation</li><li>&quot;petiole<em>nb</em>segments&quot;: the number of segments used to discretize the petiole</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/petiole.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_azimuthal_angle-Tuple{}" href="#XPalm.VPalm.petiole_azimuthal_angle-Tuple{}"><code>XPalm.VPalm.petiole_azimuthal_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_azimuthal_angle(; rng=Random.MersenneTwister(1))</code></pre><p>Compute the azimuthal angle of the petiole based on the petiole/rachis length ratio.</p><p><strong>Arguments</strong></p><ul><li><code>petiole_rachis_ratio_mean</code>: Average value of the petiole/rachis length ratio</li><li><code>petiole_rachis_ratio_sd</code>: Standard deviation of the petiole/rachis length ratio</li><li><code>rng</code>: Random number generator</li></ul><p><strong>Returns</strong></p><p>The azimuthal angle of the petiole (°)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L22-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_dimensions_at_cpoint" href="#XPalm.VPalm.petiole_dimensions_at_cpoint"><code>XPalm.VPalm.petiole_dimensions_at_cpoint</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_dimensions_at_cpoint(rachis_length, cpoint_width_intercept, cpoint_width_slope, cpoint_height_width_ratio)</code></pre><p>Compute the width and height of the petiole at the C point (end-point).</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length</code>: Length of the rachis (m)</li><li><code>cpoint_width_intercept=0.0098u&quot;m&quot;</code>: Intercept of the linear relationship between rachis width at C point and rachis length (m)</li><li><code>cpoint_width_slope=0.012</code>: Slope of the linear relationship</li><li><code>cpoint_height_width_ratio=0.568</code>: Ratio between the height and width of the leaf at C point</li></ul><p><strong>Returns</strong></p><p>A named tuple with the following keys:</p><ul><li><code>width_cpoint</code>: Width at the C point of the petiole (m)</li><li><code>height_cpoint</code>: Height at the C point of the petiole (m)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L41-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_height-Tuple{Any, Any, Any}" href="#XPalm.VPalm.petiole_height-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_height</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_height(relative_position, height_cpoint, height_base)</code></pre><p>Compute the height profile along the petiole (m).</p><p><strong>Arguments</strong></p><ul><li><code>relative_position</code>: Position along the petiole (0-1)</li><li><code>height_base</code>: Height at the base of the leaf</li><li><code>height_cpoint</code>: Height of the leaf section at C point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L106-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_length" href="#XPalm.VPalm.petiole_length"><code>XPalm.VPalm.petiole_length</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_length(petiole_rachis_ratio_mean, petiole_rachis_ratio_sd, rachis_length; rng=Random.MersenneTwister(1))</code></pre><p>Compute the length of the petiole based on the rachis length and the petiole/rachis length ratio.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length</code>: Length of the rachis (m)</li><li><code>petiole_rachis_ratio_mean=0.25</code>: Average value of the petiole/rachis length ratio</li><li><code>petiole_rachis_ratio_sd=0.034</code>: Standard deviation of the petiole/rachis length ratio</li><li><code>rng</code>: Random number generator</li></ul><p><strong>Returns</strong></p><p>The length of the petiole (m)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L2-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_sections!-Tuple{Any, Any, Any}" href="#XPalm.VPalm.petiole_sections!-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_sections!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_sections!(petiole_node, petiole_nb_segments, unique_mtg_id)</code></pre><p>Create the sections of a petiole.</p><p><strong>Arguments</strong></p><ul><li><code>petiole_node</code>: the MTG Node of the petiole</li><li><code>petiole_nb_segments</code>: the number of segments used to discretize the petiole</li><li><code>unique_mtg_id</code>: a next free unique id for the MTG nodes, given as a <code>Ref{Int}</code></li></ul><p><strong>Returns</strong></p><p>Nothing, the petiole node is updated in-place with its sections.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/petiole.jl#L43-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.petiole_width-Tuple{Any, Any, Any}" href="#XPalm.VPalm.petiole_width-Tuple{Any, Any, Any}"><code>XPalm.VPalm.petiole_width</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">petiole_width(relative_position, width_cpoint, width_base)</code></pre><p>Compute the width profile along the petiole (m).</p><p><strong>Arguments</strong></p><ul><li><code>relative_position</code>: Position along the petiole (0-1) </li><li><code>width_base</code>: Width at base of leaf</li><li><code>width_cpoint</code>: Width of the leaf at C point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L121-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.phyllotactic_angle-Tuple{Any, Any}" href="#XPalm.VPalm.phyllotactic_angle-Tuple{Any, Any}"><code>XPalm.VPalm.phyllotactic_angle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">phyllotactic_angle(phyllotactic_angle_mean, phyllotactic_angle_sd; rng=Random.MersenneTwister(1234))</code></pre><p>Computes the phyllotactic angle (°) using an average angle and a standard deviation (random draw from a normal distribution).</p><p><strong>Arguments</strong></p><ul><li><code>phyllotactic_angle_mean</code>: The average phyllotactic angle (°).</li><li><code>phyllotactic_angle_sd</code>: The standard deviation of the phyllotactic angle (°).</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/internode.jl#L108-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.piecewise_linear_area-Tuple{Any, Any}" href="#XPalm.VPalm.piecewise_linear_area-Tuple{Any, Any}"><code>XPalm.VPalm.piecewise_linear_area</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">piecewise_linear_area(x, y)</code></pre><p>Calculate the area under a piecewise linear function. Equivalent to PiecewiseFunctionArea in the Java version.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: Array of x-coordinates of the control points.</li><li><code>y</code>: Array of y-coordinates of the control points.</li></ul><p><strong>Returns</strong></p><ul><li>Area under the piecewise linear function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/utils.jl#L161-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.plane-Tuple{}" href="#XPalm.VPalm.plane-Tuple{}"><code>XPalm.VPalm.plane</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_plane_mesh()</code></pre><p>Create a simple rectangular plane mesh that will be used as a reference for leaflet segments. The plane is created in the XZ plane with width along X and length along Z.</p><p><strong>Returns</strong></p><p>A Meshes.SimpleMesh object representing a simple rectangular plane mesh</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/plane.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.properties_petiole_section-NTuple{9, Any}" href="#XPalm.VPalm.properties_petiole_section-NTuple{9, Any}"><code>XPalm.VPalm.properties_petiole_section</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">properties_petiole_section(
    index, nb_sections, width_base, height_base,
    width_cpoint, height_cpoint, petiole_section_length,
    petiole_insertion_angle, petiole_section_insertion_angle,
    azimuthal_angle
)</code></pre><p>Compute the properties of each section of the petiole.</p><p><strong>Arguments</strong></p><ul><li><code>index</code>: The index of the section within all sections (1-nb_sections)</li><li><code>nb_sections</code>: The number of sections discretizing the petiole</li><li><code>width_base</code>: Width of the petiole at its base (m)</li><li><code>heigth_base</code>: Height of the petiole at its base (m)</li><li><code>width_cpoint</code>: Width of the petiole at the C point (tip of the petiole, <em>i.e.</em> transition point to rachis, m)</li><li><code>height_cpoint</code>: Height at the C point (m)</li><li><code>petiole_section_length</code>: The length of the petiole sections (m)</li><li><code>petiole_insertion_angle</code>: Zenithal angle of insertion between the petiole and the stipe (local angle, relative to the stipe, °)</li><li><code>petiole_section_insertion_angle</code>: The zenithal angle of insertion between the petioles sections (°)</li><li><code>azimuthal_angle</code>: Azimuthal angle at the insertion (°)</li></ul><p><strong>Returns</strong></p><p>A vector of dimensions for each section, given as a named tuple:</p><ul><li>width: width of the section (m)</li><li>height: height of the section (m)</li><li>length: length of the section (m)</li><li>zenithal_angle: zenithal angle of the section (global angle, °)</li><li>azimuthal_angle: azimuthal angle of the section (global angle, °)</li><li>torsion_angle: torsion angle of the section (°)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_petiole.jl#L121-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.rachis-NTuple{10, Any}" href="#XPalm.VPalm.rachis-NTuple{10, Any}"><code>XPalm.VPalm.rachis</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rachis(unique_mtg_id, index, scale, leaf_rank, rachis_length, height_cpoint, width_cpoint, zenithal_cpoint_angle, fresh_biomass, parameters; rng)</code></pre><p>Builds a rachis node in the MTG structure.</p><p><strong>Arguments</strong></p><ul><li><code>unique_mtg_id</code>: A reference to a unique identifier for the MTG nodes.</li><li><code>index</code>: The index of the rachis segment.</li><li><code>scale</code>: The scale of the rachis segment.</li><li><code>leaf_rank</code>: The rank of the leaf associated with the rachis.</li><li><code>rachis_length</code>: The length of the rachis (m).</li><li><code>height_cpoint</code>: The height of the central point of the rachis (m).</li><li><code>width_cpoint</code>: The width of the central point of the rachis (m).</li><li><code>zenithal_cpoint_angle</code>: The zenithal angle of the central point of the rachis (°).</li><li><code>fresh_biomass</code>: The fresh biomass of the rachis (kg).</li><li><code>parameters</code>: A dictionary containing biomechanical parameters for the rachis (see below).</li><li><code>rng</code>: A random number generator for stochastic processes.</li></ul><p><strong>Note</strong></p><p>The <code>parameters</code> is a <code>Dict{String}</code> containing the following keys:</p><ul><li><code>&quot;rachis_nb_segments&quot;</code>: The number of segments in the rachis.</li><li><code>&quot;rachis_twist_initial_angle&quot;</code>: The initial twist angle of the rachis (°).</li><li><code>&quot;rachis_twist_initial_angle_sdp&quot;</code>: The standard deviation of the initial twist angle (°).</li><li><code>&quot;elastic_modulus&quot;</code>: The elastic modulus of the rachis material (Pa).</li><li><code>&quot;shear_modulus&quot;</code>: The shear modulus of the rachis material (Pa).</li><li><code>&quot;leaflet_length_at_b_intercept&quot;</code>: The intercept for the leaflet length at point B (m).</li><li><code>&quot;leaflet_length_at_b_slope&quot;</code>: The slope for the leaflet length at point B (m).</li><li><code>&quot;relative_position_bpoint&quot;</code>: The relative position of point B along the rachis (m).</li><li><code>&quot;relative_position_bpoint_sd&quot;</code>: The standard deviation of the relative position of point B (m).</li><li><code>&quot;relative_length_first_leaflet&quot;</code>: The relative length of the first leaflet (m).</li><li><code>&quot;relative_length_last_leaflet&quot;</code>: The relative length of the last leaflet (m).</li><li><code>&quot;relative_position_leaflet_max_length&quot;</code>: The relative position of the leaflet with maximum length (m).</li><li><code>&quot;height_rachis_tappering&quot;</code>: The height at which the rachis tapers (m).</li><li><code>&quot;rachis_width_tip&quot;</code>: The width of the rachis tip (m).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/rachis.jl#L1-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.rachis_expansion-Tuple{Any, Any}" href="#XPalm.VPalm.rachis_expansion-Tuple{Any, Any}"><code>XPalm.VPalm.rachis_expansion</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rachis_expansion(leaf_rank, rachis_final_length)

Simple function to compute the rachis expansion (using an expansion factor)
    based on the leaf rank.

# Arguments

- `leaf_rank`: The rank of the leaf.
- `rachis_final_length`: The final length of the rachis.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_leaf.jl#L93-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.rachis_height-Tuple{Any, Any, Any}" href="#XPalm.VPalm.rachis_height-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_height</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rachis_height(relative_position, cpoint_height, rachis_height_tappering)</code></pre><p>Computes the rachis height (m) at a given relative position using a the height at C Point and rachis tappering.</p><p><strong>Arguments</strong></p><ul><li><code>relative_position</code>: The relative position along the rachis (0: base to 1: tip).</li><li><code>cpoint_height</code>: The height of the rachis at the C point, <em>i.e.</em> rachis base (m).</li><li><code>rachis_height_tappering</code>: The tappering factor for the rachis height.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_rachis.jl#L185-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.rachis_length_from_biomass-Tuple{Any, Any, Any}" href="#XPalm.VPalm.rachis_length_from_biomass-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_length_from_biomass</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rachis_length_from_biomass(rachis_biomass, leaf_length_intercept, leaf_length_slope)</code></pre><p>Compute the length of the rachis based on its biomass using a linear relationship.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_biomass</code>: The biomass of the rachis (g).</li><li><code>leaf_length_intercept</code>: The intercept of the linear relationship for leaf length.</li><li><code>leaf_length_slope</code>: The slope of the linear relationship for leaf length.</li></ul><p><strong>Returns</strong></p><p>The length of the rachis (m).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_leaf.jl#L74-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.rachis_width-Tuple{Any, Any, Any}" href="#XPalm.VPalm.rachis_width-Tuple{Any, Any, Any}"><code>XPalm.VPalm.rachis_width</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rachis_width(relative_position, cpoint_width, rachis_width_tip)</code></pre><p>Computes the rachis width (m) at a given relative position using the width at C Point and rachis width at the tip.</p><p><strong>Arguments</strong></p><ul><li><code>relative_position</code>: The relative position along the rachis (0: base to 1: tip).</li><li><code>cpoint_width</code>: The width of the rachis at the C point, <em>i.e.</em> rachis base (m).</li><li><code>rachis_width_tip</code>: The width of the rachis at the tip (m).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/architecture/compute_properties_rachis.jl#L202-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.read_parameters-Tuple{Any}" href="#XPalm.VPalm.read_parameters-Tuple{Any}"><code>XPalm.VPalm.read_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_parameters(file; verbose=true)</code></pre><p>Reads a parameter file and returns the contents as an ordered dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>file</code>: The path to the parameter file.</li><li><code>verbose</code>: Whether to show warnings for units (default: true)</li></ul><p><strong>Returns</strong></p><p>An ordered dictionary containing the contents of the parameter file with appropriate units.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))),&quot;test&quot;,&quot;files&quot;,&quot;parameter_file.yml&quot;)
read_parameters(file)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/IO/parameters_IO.jl#L1-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.read_ply-Tuple{Any}" href="#XPalm.VPalm.read_ply-Tuple{Any}"><code>XPalm.VPalm.read_ply</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_ply(fname)</code></pre><p>Reads a PLY file and returns a <code>Meshes.SimpleMesh</code> object.</p><p><strong>Arguments</strong></p><ul><li><code>fname</code>: The path to the PLY file.</li></ul><p><strong>Returns</strong></p><p>A <code>Meshes.SimpleMesh</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/read_ply.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.relative_leaflet_length-NTuple{4, Any}" href="#XPalm.VPalm.relative_leaflet_length-NTuple{4, Any}"><code>XPalm.VPalm.relative_leaflet_length</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_leaflet_length(x, relative_length_first_leaflet, relative_length_last_leaflet, relative_position_leaflet_max_length)</code></pre><p>Relative leaflet length given by their relative position along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: relative leaflet position on the rachis (0: base to 1: tip)</li><li><code>relative_length_first_leaflet</code>: relative length of the first leaflet on the rachis (0 to 1)</li><li><code>relative_length_last_leaflet</code>: relative length of the last leaflet on the rachis  (0 to 1)</li><li><code>relative_position_leaflet_max_length</code>: relative position of the longest leaflet on the rachis (0.111 to 0.999)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L964-L975">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.relative_leaflet_position-Tuple{Any, Any}" href="#XPalm.VPalm.relative_leaflet_position-Tuple{Any, Any}"><code>XPalm.VPalm.relative_leaflet_position</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_leaflet_position(relative_rank, shape_coefficient)</code></pre><p>Compute the relative leaflet position on the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>relative_rank</code>: Relative leaflet rank, usually in the form of (0 to 1].</li><li><code>shape_coefficient</code>: Shape coefficient (around 0).</li></ul><p><strong>Returns</strong></p><p>The relative leaflet position, in the same form as <code>relative_rank</code>, usually (0 to 1].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L677-L690">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.relative_leaflet_width-NTuple{4, Any}" href="#XPalm.VPalm.relative_leaflet_width-NTuple{4, Any}"><code>XPalm.VPalm.relative_leaflet_width</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_leaflet_width(x, width_first, width_last, pos_width_max)</code></pre><p>Calculate the relative leaflet width at a given position along the rachis.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: Relative position of the leaflet on the rachis [0 to 1].</li><li><code>width_first</code>: Relative width of the first leaflet (at rachis base).</li><li><code>width_last</code>: Relative width of the last leaflet (at rachis tip).</li><li><code>pos_width_max</code>: Relative position where leaflets reach maximum width [0 to 1].</li></ul><p><strong>Details</strong></p><p>This function uses a piecewise linear model to calculate relative leaflet width:</p><ol><li>From base to maximum width position: Linear increase from <code>width_first</code> to 1.0</li><li>From maximum width position to tip: Linear decrease from 1.0 to <code>width_last</code></li></ol><p><strong>Biological Context</strong></p><p>The width of leaflets along a palm frond typically follows a pattern where:</p><ul><li>Leaflets start relatively narrow at the base</li><li>Widen to reach maximum width at some point along the rachis</li><li>Narrow again toward the tip</li></ul><p><strong>Returns</strong></p><p>The relative width at position x [0 to 1].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L1090-L1120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.shrink_leaflets_in_groups!" href="#XPalm.VPalm.shrink_leaflets_in_groups!"><code>XPalm.VPalm.shrink_leaflets_in_groups!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shrink_leaflets_in_groups!(positions, leaflets, ratio=2.0)</code></pre><p>Adjust the spacing between leaflets to create appropriate within-group and between-group distances.</p><p><strong>Arguments</strong></p><ul><li><code>positions</code>: Vector of current leaflet positions along the rachis.</li><li><code>leaflets</code>: A NamedTuple containing arrays for leaflet properties (group, group_size, plane).</li><li><code>ratio=2.0</code>: Ratio of inter-group to intra-group spacing.</li></ul><p><strong>Details</strong></p><p>This function implements a biological principle where leaflets within the same group are positioned closer together than leaflets in different groups. It:</p><ol><li>Uses a fixed ratio (2:1) between inter-group and intra-group spacing</li><li>Preserves the overall distribution pattern while creating distinct groups</li><li>Processes each group sequentially, adjusting positions based on group size</li></ol><p><strong>Biological Context</strong></p><p>In many palm species, particularly oil palm, leaflets appear in distinct groups along the rachis. This grouping pattern is characterized by:</p><ol><li>Consistent, smaller spacing between leaflets within the same group</li><li>Larger spacing between adjacent groups</li><li>The ratio between these spacings is typically species-specific</li></ol><p>This spacing pattern is essential for the palm&#39;s characteristic appearance and  affects light interception patterns along the frond.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/instance/leaflets.jl#L769-L800">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.snag-Tuple{}" href="#XPalm.VPalm.snag-Tuple{}"><code>XPalm.VPalm.snag</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">snag()
snag(l, w, h)</code></pre><p>Returns a normalized snag mesh, or a snag mesh with given dimensions in m.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/geometry/snag.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.stem_bending-Tuple{Any, Any}" href="#XPalm.VPalm.stem_bending-Tuple{Any, Any}"><code>XPalm.VPalm.stem_bending</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stem_bending(stem_bending_mean, stem_bending_sd; rng=Random.MersenneTwister(1234))</code></pre><p>Computes the stem bending (°) using an average bending and a standard deviation (random draw from a normal distribution).</p><p><strong>Arguments</strong></p><ul><li><code>stem_bending_mean</code>: The average stem bending (°).</li><li><code>stem_bending_sd</code>: The standard deviation of the stem bending (°).</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/stem.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.stem_diameter-NTuple{6, Any}" href="#XPalm.VPalm.stem_diameter-NTuple{6, Any}"><code>XPalm.VPalm.stem_diameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stem_diameter(rachis_length_reference, stem_diameter_max, stem_diameter_slope, stem_diameter_inflection, stem_diameter_residual)</code></pre><p>Computes the stem diameter (m) at a given rachis length reference (m).</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length_reference</code>: The rachis length reference (m). Taken as the rachis length of the first leaf.</li><li><code>stem_diameter_max</code>: The maximum stem diameter (m).</li><li><code>stem_diameter_slope</code>: The slope of the logistic function.</li><li><code>stem_diameter_inflection</code>: The inflection point of the logistic function.</li><li><code>stem_diameter_residual</code>: The residual of the stem diameter (m).</li><li><code>stem_diameter_snag</code>: The diameter estimation due to snags (m).</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul><p><strong>Details</strong></p><p>The stem diameter is computed using a logistic function, and then some variability is added to simulate natural variations that might occur in real-world scenarios.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/stem.jl#L60-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.stem_height-NTuple{6, Any}" href="#XPalm.VPalm.stem_height-NTuple{6, Any}"><code>XPalm.VPalm.stem_height</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stem_height(nb_leaves_emitted, initial_stem_height, stem_height_coefficient, internode_length_at_maturity, stem_growth_start)</code></pre><p>Computes the stem height (m) at a given number of leaves emitted.</p><p><strong>Arguments</strong></p><ul><li><code>nb_leaves_emitted</code>: The number of leaves emitted from planting.</li><li><code>initial_stem_height</code>: The initial stem height at planting (m).</li><li><code>stem_height_coefficient</code>: The coefficient of the exponential function.</li><li><code>internode_length_at_maturity</code>: The internode length when the plant is mature (m).</li><li><code>stem_growth_start</code>: The number of leaves emitted at which the stem starts to grow (m). This is because the stem does not grow at the same rate at the beginning of the plant&#39;s life,</li></ul><p>because it first grows more in diameter than in height.</p><ul><li><code>stem_height_variation</code>: The variation of the stem height (m) due to the random draw from a normal distribution.</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>rng</code>: The random number generator.</li></ul><p><strong>Details</strong></p><p>The stem height is computed using an exponential function for the first <code>stem_growth_start</code> leaves emitted, and then a linear function for the remaining leaves emitted.</p><p>Note that the stem height can also be subject to some variability using <code>stem_height_variation</code>, simulating natural variations that might occur in real-world scenarios, but this variability will never make the stem height go below 30% of the intial computed height.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/stem.jl#L20-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.unbend-Tuple{Any, Any}" href="#XPalm.VPalm.unbend-Tuple{Any, Any}"><code>XPalm.VPalm.unbend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unbend(distance, inclination)</code></pre><p>Removes torsion and bending of a bent beam by transforming it into a straight line, while preserving its insertion angle (inclination angle of the first segment).</p><p><strong>Arguments</strong></p><ul><li><code>distance</code>: Vector of distances between consecutive points (in meters)</li><li><code>inclination</code>: Vector of inclination angles (in degrees), only the first value is used</li></ul><p><strong>Returns</strong></p><ul><li>A vector of Meshes.Point objects representing the unbent positions</li></ul><p><strong>Details</strong></p><p>This function creates a straight line with the same cumulative length as the input distances, while maintaining the insertion angle specified by the first inclination value. The output points represent the unbent state of a curved structure.</p><p><strong>Note</strong></p><p>Mainly used to compute the input coordinates for <code>bend()</code> from experimental points.</p><p><strong>Example</strong></p><pre><code class="language-jl hljs">using VPalm, Unitful, Meshes
distances = [0.001, 1.340, 1.340, 0.770, 0.770]u&quot;m&quot;;
inclinations = [48.8, 48.8, 48.8, 48.8, 48.8];  # degrees
points = VPalm.unbend(distances, inclinations)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/unbend.jl#L1-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.width_at_cpoint-Tuple{Any, Any, Any}" href="#XPalm.VPalm.width_at_cpoint-Tuple{Any, Any, Any}"><code>XPalm.VPalm.width_at_cpoint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">width_at_cpoint(rachis_length, cpoint_width_intercept, cpoint_width_slope)</code></pre><p>Compute width at C point based on rachis length.</p><p><strong>Arguments</strong></p><ul><li><code>rachis_length</code>: Length of rachis (m)</li><li><code>cpoint_width_intercept</code>: Intercept of linear function (m)</li><li><code>cpoint_width_slope</code>: Slope of linear function</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/allometries/petiole.jl#L66-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.write_parameters-Tuple{Any, Any}" href="#XPalm.VPalm.write_parameters-Tuple{Any, Any}"><code>XPalm.VPalm.write_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_parameters(file, params)</code></pre><p>Write the given parameters to a file using YAML format.</p><p><strong>Arguments</strong></p><ul><li><code>file</code>: The file path to write the parameters to.</li><li><code>params</code>: The parameters to be written.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">file = joinpath(dirname(dirname(pathof(VPalm))),&quot;test&quot;,&quot;files&quot;,&quot;parameter_file.yml&quot;)
params = read_parameters(file)
write_parameters(tempname(), params)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/IO/parameters_IO.jl#L106-L122">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.xyz_to_dist_and_angles-Union{Tuple{AbstractVector{P}}, Tuple{P}} where P&lt;:Meshes.Point" href="#XPalm.VPalm.xyz_to_dist_and_angles-Union{Tuple{AbstractVector{P}}, Tuple{P}} where P&lt;:Meshes.Point"><code>XPalm.VPalm.xyz_to_dist_and_angles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">xyz_to_dist_and_angles(points)</code></pre><p>Compute segment lengths and angles from point coordinates.</p><p><strong>Arguments</strong></p><ul><li><code>points</code>: A vector of <code>Meshes.Points</code>.</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple with fields:<ul><li><code>dist_p2p1</code>: Vector of segment lengths (m).</li><li><code>vangle_xy</code>: Vector of angles between the segment and the XY plane (radians).</li><li><code>vangle_xz</code>: Vector of angles between the segment and the XZ plane (radians).</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/biomechanics/complete/xyz_dist_angles.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="XPalm.VPalm.@check_unit" href="#XPalm.VPalm.@check_unit"><code>XPalm.VPalm.@check_unit</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@check_unit(variable, expected_unit, [verbose=true])</code></pre><p>Check if a variable has the expected unit type. If no unit is found, assign the expected unit. If a different unit is found, try to convert to the expected unit.</p><p><strong>Arguments</strong></p><ul><li><code>variable</code>: The variable to check</li><li><code>expected_unit</code>: The expected unit (e.g., u&quot;m&quot;)</li><li><code>verbose</code>: Whether to show warnings (default: true)</li></ul><p><strong>Examples</strong></p><p>```julia rachis<em>length = 10 @check</em>unit rachis_length u&quot;m&quot;  # Will add u&quot;m&quot; and warn</p><p>petiole<em>length = 10 @check</em>unit petiole_length u&quot;m&quot; false # Will add u&quot;m&quot; without a warning</p><p>mass = 5.0u&quot;g&quot; @check_unit mass u&quot;kg&quot;   # Will convert g to kg</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PalmStudio/XPalm.jl/blob/11660b2ae53e04f59aea300561bbadc7ba77a4a2/src/vpalm/units.jl#L1-L24">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 18 June 2025 15:37">Wednesday 18 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
