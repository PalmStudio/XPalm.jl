pas = 0.4u"m"
points = [
    Meshes.Point(0.0006586895, 0.0, 0.0),
    Meshes.Point(0.8833025660, 0.0, 1.0089883928),
    Meshes.Point(1.7659464426, 0.0, 2.0172243707),
    Meshes.Point(2.2731373269, 0.0, 2.5965838506),
    Meshes.Point(2.7803282112, 0.0, 3.1759433304)
]

round_mm(x) = round.(typeof(1u"mm"), x)
@testset "interp_points" begin
    out = VPalm.interp_points(points, pas)
    vec_x = [coords(p).x for p in out.points] |> round_mm
    vec_y = [coords(p).y for p in out.points] |> round_mm
    vec_z = [coords(p).z for p in out.points] |> round_mm
    @test vec_x == [0, 253, 506, 758, 1011, 1264, 1516, 1769, 2022, 2275, 2528, 2780]u"mm"
    @test vec_y == repeat([0.0u"mm"], 12)
    @test vec_z == [0, 288, 577, 866, 1155, 1444, 1732, 2021, 2310, 2598, 2887, 3176]u"mm"
    @test out.i_discret_pts_exp == [1, 4, 8, 10, 12]
    @test out.vec_angle_xy == [0.0, 0.8507977064210278, 0.8520903753276949, 0.852090375327695, 0.8519037022884237, 0.8517206749402652, 0.8517206749402646, 0.8517206749411467, 0.8517206750078362, 0.8517206750072769, 0.8517206749222911, 0.8517206749222919]
    @test out.vec_angle_xz == repeat([0.0], 12)
    @test round_mm(out.vec_dist_p2p1) == [0, 384, 384, 384, 384, 384, 384, 384, 384, 384, 384, 384]u"mm"
end

# Results from the R version:
# $vecX
#  [1] 0.0000000 0.2527571 0.5055142 0.7582713 1.0110284 1.2637856 1.5165427
#  [8] 1.7692998 2.0220569 2.2748140 2.5275711 2.7803282

# $vecY
#  [1] 0 0 0 0 0 0 0 0 0 0 0 0

# $vecZ
#  [1] 0.0000000 0.2887221 0.5774442 0.8661664 1.1548885 1.4436106 1.7323327
#  [8] 2.0210548 2.3097770 2.5984991 2.8872212 3.1759433

# $iDiscretPtsExp
# [1]  1  4  8 10 12

# $vecDist_P2P1
#  [1] 0.0000000 0.3837273 0.3837273 0.3837273 0.3837273 0.3837273 0.3837273
#  [8] 0.3837273 0.3837273 0.3837273 0.3837273 0.3837273

# $vecAngle_XY
#  [1] 0.0000000 0.8517207 0.8517207 0.8517207 0.8517207 0.8517207 0.8517207
#  [8] 0.8517207 0.8517207 0.8517207 0.8517207 0.8517207

# $vecAngle_XZ
#  [1] 0 0 0 0 0 0 0 0 0 0 0 0